(function(){"use strict";var e={9513:function(e,t,a){var s=a(9242),n=(a(7658),a(3396)),o=a(4870),l=a(2578);const d=(0,l.Q_)("app",(()=>{const e=(0,o.iH)("http://localhost:9000"),t=(0,o.iH)(!1),a=(0,o.iH)(!1),s=(0,o.iH)([{name:"Dashboard",icon:"fa fa-tachometer-alt",path:"/admin/dashboard",meta:{isGlobalAdminRoute:!1}},{name:"Test",icon:"fa fa-graduation-cap",path:"/admin/test",meta:{isGlobalAdminRoute:!1}},{name:"Setup",icon:"fas fa-cog",path:"/admin/setup",meta:{isGlobalAdminRoute:!0}}]),n=()=>{a.value=!a.value},l=e=>{e.message?alert(e.message):alert(e)},d=()=>{t.value=!t.value};return{backend:e,processLoading:t,toggleProcessLoader:d,menuState:a,toggleMenu:n,appAlert:l,menuRoutes:s}}),{persistedState:{persist:!1}}),i={key:0,class:"position-fixed text-light"};var r={__name:"ProcessLoader",setup(e){const t=d(),{processLoading:a}=(0,l.Jk)(t);return(e,t)=>(0,o.SU)(a)?((0,n.wg)(),(0,n.iD)("div",i," loading... ")):(0,n.kq)("",!0)}},c=a(89);const u=(0,c.Z)(r,[["__scopeId","data-v-101df9a4"]]);var p=u,v=a(2483),b=a.p+"img/lab.d910961e.jpg";const m=(0,l.Q_)("candidate",(()=>{const e=(0,o.Xl)($p),t=d(),{backend:a}=(0,l.Jk)(t),{toggleProcessLoader:s,appAlert:i}=t,r=(0,o.iH)(""),c=(0,o.iH)({}),u=(0,o.iH)(!1),p=(0,o.iH)([]),v=(0,o.iH)({}),b=(0,o.iH)([]),m=(0,o.iH)([]),_=(0,o.iH)(null),g=(0,o.iH)(!1);(()=>{if(null==_.value){s();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{s();const t=e.response;try{const e=JSON.parse(t);1==e.status&&(_.value=e.token)}catch(a){s(),console.log(a)}})),e.open("POST",`${a.value}/api/auth/candidate_token`),e.send()}})();const h=()=>{const e=[...b.value];if(1==c.value.randomize_questions){for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}return b.value=e}return b.value=e};function y(e){this.question=e,this.question.answered=!1,this.answers=m.value.filter((t=>t.question_id==e.id))}const w=(0,o.iH)(null),f=(0,o.iH)(0),k=(0,n.Fl)((()=>w.value[f.value])),U=()=>{0==f.value?f.value=0:f.value--},S=()=>{f.value==w.value.length-1?f.value=w.value.length-1:f.value++},A=e=>{f.value=e},C=()=>new Promise((e=>{const t=w.value;let a=0;const s=c.value.total_mark,n=s/t.length;t.forEach((e=>{if("single_choice"==e.question.type){const{answers:s}=e;for(var t=0;t<s.length;t++)if(s[t].selected&&s[t].is_right_answer){a+=n;break}}})),e(a)})),H=()=>new Promise(((e,t)=>{const s=JSON.stringify({testId:c.value.id,candidatePersona:p.value,details:v.value}),n=new XMLHttpRequest;n.addEventListener("load",(()=>{const a=n.response;try{const t=JSON.parse(a),{insertId:s}=t.data;e(s)}catch(s){t(s)}})),n.open("POST",`${a.value}/api/candidate`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${_.value}`),n.send(s)})),q=(e,t,s)=>new Promise(((n,o)=>{const l=JSON.stringify({testId:e,candidateId:t,score:s});alert("You scored ".concat(Math.round(s)).concat(" you will be getting your certificate soon"));const d=new XMLHttpRequest;d.addEventListener("load",(()=>{const e=d.response;try{const t=JSON.parse(e),{body:a}=t.body;n(a)}catch(t){o(t)}})),d.open("POST",`${a.value}/api/candidate/score`),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Authorization",`bearer ${_.value}`),d.send(l)})),x=()=>{_.value},j=async()=>{try{s();const t=await H(),a=await C(),n=await q(c.value.id,t,a);console.log(n),x(),e.push("/"),g.value=!0,alert("Your score is ".concat(Math.round(a))),s()}catch(t){console.log(t)}},D=()=>{let t=0;try{t=r.value.split("/")}catch(p){return void i("Invalid test code")}const n=t[0],o=t[1],l=t[2];s();const d=new XMLHttpRequest;d.addEventListener("load",(()=>{s();const t=d.response;try{const a=JSON.parse(t);1==a.status?(u.value=!0,c.value=a.body[0],e.push("/form")):(i("An error just occured, please try again in a few seconds"),u.value=!1,c.value=null)}catch(p){i("An error just occured, please try again in a few seconds"),u.value=!1,c.value=null}})),d.open("GET",`${a.value}/api/test/validate?testId=${o}&testName=${n}&institutionId=${l}`),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Authorization",`bearer ${_.value}`),d.send()},R=()=>{s();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{s();const t=e.response;try{const e=JSON.parse(t);1==e.status?p.value=e.data:i("An error just occured, please try again in a few seconds")}catch(a){i("An error just occured, please try again in a few seconds")}})),e.open("GET",`${a.value}/api/persona_data/${c.value.id}`),e.setRequestHeader("Authorization",`bearer ${_.value}`),e.send()},L=()=>(f.value=0,0==g.value&&null!=w.value?void 0:1==g.value&&null!=w.value?new Promise(((e,t)=>{s();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{const o=n.response;try{const n=JSON.parse(o);if(1==n.status){b.value=n.questions;const o=new XMLHttpRequest;o.addEventListener("load",(()=>{s();const a=o.response;try{const s=JSON.parse(a);if(1==s.status){const t=s.answers.map((e=>({...e,selected:!1})));m.value=t,w.value=h().map((e=>new y(e))),console.log(w.value),e(!0)}else i("An error just occured, please try again in a few seconds"),t(!1)}catch(n){i("An error just occured, please try again in a few seconds"),t(!1)}})),o.open("GET",`${a.value}/api/answer/test/${c.value.id}`),o.setRequestHeader("Authorization",`bearer ${_.value}`),o.send()}else i("An error just occured, please try again in a few seconds"),t(!1)}catch(l){i("An error just occured, please try again in a few seconds"),t(!1)}})),n.open("GET",`${a.value}/api/question/${c.value.id}`),n.setRequestHeader("Authorization",`bearer ${_.value}`),n.send()})):new Promise(((e,t)=>{s();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{const o=n.response;try{const n=JSON.parse(o);if(1==n.status){b.value=n.questions;const o=new XMLHttpRequest;o.addEventListener("load",(()=>{s();const a=o.response;try{const s=JSON.parse(a);if(1==s.status){const t=s.answers.map((e=>({...e,selected:!1})));m.value=t,w.value=h().map((e=>new y(e))),console.log(w.value),e(!0)}else i("An error just occured, please try again in a few seconds"),t(!1)}catch(n){i("An error just occured, please try again in a few seconds"),t(!1)}})),o.open("GET",`${a.value}/api/answer/test/${c.value.id}`),o.setRequestHeader("Authorization",`bearer ${_.value}`),o.send()}else i("An error just occured, please try again in a few seconds"),t(!1)}catch(l){i("An error just occured, please try again in a few seconds"),t(!1)}})),n.open("GET",`${a.value}/api/question/${c.value.id}`),n.setRequestHeader("Authorization",`bearer ${_.value}`),n.send()}))),T=e=>{const t=e.split("_")[1],a=m.value.filter((e=>e.id==t))[0].question_id;for(var s=0;s<w.value.length;s++)if(w.value[s].question.id==a){for(var n=0;n<w.value[s].answers.length;n++)w.value[s].answers[n].id==t?w.value[s].answers[n].selected=!0:w.value[s].answers[n].selected=!1;w.value[s].question.answered=!0;break}};return{testCode:r,isValidated:u,validateTestCode:D,testCredentials:c,getPersonaData:R,candidatePersona:p,details:v,getQuestionsAndAnswers:L,currentQuestion:k,candidateSheet:w,questions:b,answers:m,previousQuestion:U,nextQuestion:S,cursor:f,updateSingleChoiceAnswerStatus:T,changeQuestion:A,handleSubmit:j,token:_}})),_=e=>((0,n.dD)("data-v-b336aa0e"),e=e(),(0,n.Cn)(),e),g={class:"container-fluid"},h={class:"row align-items-center",style:{height:"100vh"},"data-aos":"slide-right"},y=_((()=>(0,n._)("div",{class:"container p-3 col-lg-6 col-md-6 d-lg-block d-md-block d-none bg-cebety-light text-center height-100"},[(0,n._)("img",{src:b,class:"img img-fluid rounded-4"})],-1))),w={class:"col-lg-6 col-md-6 col sm-12 col-xs-12 bg-cebety-dark text-center height-100"},f={class:"container p-3"},k=_((()=>(0,n._)("h1",null,"Instruction 1",-1))),U=_((()=>(0,n._)("p",null,"Once the test starts you will enter full screen mode, please donot leave fullscreen or you will auto submit once you do.",-1))),S=_((()=>(0,n._)("h3",{class:"text-cebety-light"},"Enter test code",-1))),A={class:"form"},C=_((()=>(0,n._)("br",null,null,-1)));var H={__name:"CandidateIndex",setup(e){const t=m(),{testCode:a}=(0,l.Jk)(t),{validateTestCode:d}=t;return(e,t)=>((0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("div",h,[y,(0,n._)("div",w,[(0,n._)("div",f,[k,U,S,(0,n._)("div",A,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.dq)(a)?a.value=e:null),class:"form-control"},null,512),[[s.nr,(0,o.SU)(a)]]),C,(0,n._)("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>(0,o.SU)(d)&&(0,o.SU)(d)(...e))},"Continue")])])])])]))}};const q=(0,c.Z)(H,[["__scopeId","data-v-b336aa0e"]]);var x=q,j=a(7139);const D=e=>((0,n.dD)("data-v-5000b346"),e=e(),(0,n.Cn)(),e),R={class:"container-fluid"},L={class:"row p-2"},T={class:"col-2"},E={class:"col"},M=(0,n.uE)('<div class="col-2" data-v-5000b346><button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#answered_questions" data-v-5000b346><i class="fa fa-question" data-v-5000b346></i>  <span class="hiddable-on-small" data-v-5000b346>Questions</span></button></div><div class="col-2" data-v-5000b346><button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#submit_modal" data-v-5000b346><i class="fa fa-upload" data-v-5000b346></i>  <span class="hiddable-on-small" data-v-5000b346>Submit</span></button></div>',2),$={class:"row"},I={class:"col-lg-6 col-sm-12 question p-4"},J={class:"col-lg-6 col-sm-12 answers p-2"},z={key:0},V=["id"],N={key:1},P={class:"row text-center p-2 position-fixed bottom-0 w-100"},O={class:"col"},Q=D((()=>(0,n._)("i",{class:"fa fa-chevron-left"},null,-1))),X=D((()=>(0,n._)("span",{class:"hiddable-on-small"},"Previous",-1))),Y={class:"col-8"},W={class:"col"},K=D((()=>(0,n._)("span",{class:"hiddable-on-small"},"Next",-1))),G=D((()=>(0,n._)("i",{class:"fa fa-chevron-right"},null,-1))),F={class:"modal",id:"answered_questions"},Z={class:"modal-dialog modal-dialog-centered"},B={class:"modal-content"},ee=D((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",null,"Answered questions"),(0,n._)("button",{class:"btn-close","data-bs-dismiss":"modal"})],-1))),te={class:"modal-body"},ae=["onClick"],se=D((()=>(0,n._)("div",{class:"modal-footer"},[(0,n._)("button",{class:"btn btn-primary","data-bs-dismiss":"modal"},"Close")],-1))),ne={class:"modal",id:"submit_modal"},oe={class:"modal-dialog modal-dialog-centered"},le={class:"modal-content"},de=D((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",null,"Are you sure you want to submit?"),(0,n._)("button",{class:"btn-close","data-bs-dismiss":"modal"})],-1))),ie={class:"modal-footer"},re=D((()=>(0,n._)("button",{class:"btn btn-secondary","data-bs-dismiss":"modal"},"No",-1)));var ce={__name:"CandidateTestView",setup(e){const t=m(),{candidateSheet:a,currentQuestion:s,cursor:d,testCredentials:i}=(0,l.Jk)(t),{previousQuestion:r,nextQuestion:c,changeQuestion:u,updateSingleChoiceAnswerStatus:p,handleSubmit:v}=t,b=(0,o.iH)(0),_=e=>{const t=e.target.id;p(t)};return(0,n.bv)((()=>{const e=document.querySelector("#app");if(e.requestFullscreen(),e.addEventListener("fullscreenschange",(t=>{const a=t.target;alert(a.id),e.requestFullscreen()})),b.value=60*i.value.duration,"client"==i.value.time_protocol){const e=setInterval((()=>{0!=b.value?b.value--:clearInterval(e,1e3)}),1e3)}})),(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",R,[(0,n._)("div",L,[(0,n._)("div",T,(0,j.zw)(b.value)+" sec"+(0,j.zw)(b.value>1?"s":""),1),(0,n._)("div",E,(0,j.zw)((0,o.SU)(i).test_name)+" "+(0,j.zw)((0,o.SU)(i).duration)+" minutes",1),M]),(0,n._)("div",$,[(0,n._)("div",I,(0,j.zw)((0,o.SU)(s).question.data),1),(0,n._)("div",J,["single_choice"==(0,o.SU)(s).question.type?((0,n.wg)(),(0,n.iD)("div",z,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(s).answers,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.id,class:(0,j.C_)(["answer form-control d-flex justify-content-between mt-2 text-bold",e.selected?"answer-selected":""]),id:"answer_".concat(e.id),onClick:_},[(0,n._)("span",null,(0,j.zw)(e.data),1)],10,V)))),128))])):((0,n.wg)(),(0,n.iD)("div",N," multiple choice "))])]),(0,n._)("div",P,[(0,n._)("div",O,[(0,n._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(r)&&(0,o.SU)(r)(...e))},[Q,(0,n.Uk)(" "),X])]),(0,n._)("div",Y,(0,j.zw)((0,o.SU)(d)+1)+"/"+(0,j.zw)((0,o.SU)(a).length),1),(0,n._)("div",W,[(0,n._)("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>(0,o.SU)(c)&&(0,o.SU)(c)(...e))},[K,(0,n.Uk)(" "),G])])])]),(0,n._)("div",F,[(0,n._)("div",Z,[(0,n._)("div",B,[ee,(0,n._)("div",te,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:"qi".concat(t),class:(0,j.C_)(["question_indicator rounded-5 p-3 m-1 d-inline-block",1==e.question.answered?"bg-success text-light":"bg-light"]),onClick:e=>(0,o.SU)(u)(t),style:{cursor:"pointer"},"data-bs-dismiss":"modal"},(0,j.zw)(t+1),11,ae)))),128))]),se])])]),(0,n._)("div",ne,[(0,n._)("div",oe,[(0,n._)("div",le,[de,(0,n._)("div",ie,[re,(0,n._)("button",{class:"btn btn-success","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=(...e)=>(0,o.SU)(v)&&(0,o.SU)(v)(...e))},"Yes")])])])])],64))}};const ue=(0,c.Z)(ce,[["__scopeId","data-v-5000b346"]]);var pe=ue,ve=a.p+"img/lab2.5fbf52f8.jpg";const be=e=>((0,n.dD)("data-v-7c8ed945"),e=e(),(0,n.Cn)(),e),me={class:"container-fluid"},_e={class:"row align-items-center",style:{height:"100vh"}},ge=be((()=>(0,n._)("div",{class:"container p-3 col-lg-6 col-md-6 d-lg-block d-md-block d-none bg-cebety-light text-center height-100"},[(0,n._)("img",{src:ve,class:"img img-fluid rounded-4"})],-1))),he={class:"col-lg-6 col-md-6 col sm-12 col-xs-12 bg-cebety-dark text-center height-100"},ye={class:"container p-3"},we=be((()=>(0,n._)("h1",{class:"text-cebety-light"},"Enter your details",-1))),fe=be((()=>(0,n._)("p",null,"Please fill every details they are required.",-1))),ke=["type","placeholder","id","required","onUpdate:modelValue"],Ue={class:"form"};var Se={__name:"CandidateFormView",setup(e){const t=m(),{candidatePersona:a,details:d}=(0,l.Jk)(t),{getPersonaData:i,getQuestionsAndAnswers:r}=t;return(0,n.bv)((()=>{i(),r()})),(e,t)=>{const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",me,[(0,n._)("div",_e,[ge,(0,n._)("div",he,[(0,n._)("div",ye,[we,fe,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("input",{key:e.id,type:e.persona_field_type,placeholder:e.persona_data,id:e.id,required:e.is_required,class:"form-control m-2","onUpdate:modelValue":t=>(0,o.SU)(d)[e.persona_data]=t},null,8,ke)),[[s.YZ,(0,o.SU)(d)[e.persona_data]]]))),128))]),(0,n._)("div",Ue,[(0,n.Wm)(l,{class:"btn btn-primary",to:"/test"},{default:(0,n.w5)((()=>[(0,n.Uk)("Continue")])),_:1})])])])])}}};const Ae=(0,c.Z)(Se,[["__scopeId","data-v-7c8ed945"]]);var Ce=Ae;const He=e=>((0,n.dD)("data-v-d01c0476"),e=e(),(0,n.Cn)(),e),qe={class:"container-fluid"},xe=He((()=>(0,n._)("div",{class:"container"},[(0,n._)("h1",null,[(0,n._)("i",{class:"fas fa-smile-o"})])],-1))),je=He((()=>(0,n._)("div",{class:"container"},[(0,n._)("h1",null,"Thanks for your time")],-1))),De=[xe,je];var Re={__name:"EndTestView",setup(e){return(0,n.bv)((()=>{})),(e,t)=>((0,n.wg)(),(0,n.iD)("div",qe,De))}};const Le=(0,c.Z)(Re,[["__scopeId","data-v-d01c0476"]]);var Te=Le,Ee=a.p+"img/Dairy.cc42f16f.svg";const Me={src:Ee,alt:"",class:"img w-100"};function $e(e,t){return(0,n.wg)(),(0,n.iD)("img",Me)}const Ie={},Je=(0,c.Z)(Ie,[["render",$e]]);var ze=Je;const Ve={class:"container-fluid bg-primary"},Ne={class:"row"},Pe={class:"col-lg-6 col-md-6 d-lg-flex bg-light justify-content-center align-items-center d-md-block d-none bg-cebety-light text-center height-100"},Oe={class:"col-lg-6 col-md-6 col sm-12 col-xs-12 height-100"},Qe={class:"container p-3"},Xe=(0,n._)("h1",{class:"text-light"},"Welcome admin",-1),Ye=(0,n._)("br",null,null,-1),We=(0,n._)("br",null,null,-1),Ke={class:"form"},Ge=(0,n._)("label",{for:"#phonenumber",class:"form-label text-light"},"Phone number",-1),Fe=(0,n._)("br",null,null,-1),Ze=(0,n._)("label",{for:"#password",class:"form-label text-light"},"Password",-1),Be=(0,n._)("br",null,null,-1),et={class:"mt-4"};var tt={__name:"AdminIndex",setup(e){const t=Ip(),{phoneNumber:a,password:d}=(0,l.Jk)(t),{login:i}=t;return(e,t)=>((0,n.wg)(),(0,n.iD)("div",Ve,[(0,n._)("div",Ne,[(0,n._)("div",Pe,[(0,n.Wm)((0,o.SU)(ze))]),(0,n._)("div",Oe,[(0,n._)("div",Qe,[(0,n.Wm)((0,o.SU)(ze),{class:"d-lg-none d-md-none d-block"}),Xe,Ye,We,(0,n._)("div",Ke,[Ge,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.dq)(a)?a.value=e:null)},null,512),[[s.nr,(0,o.SU)(a)]]),Fe,Ze,(0,n.wy)((0,n._)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>(0,o.dq)(d)?d.value=e:null)},null,512),[[s.nr,(0,o.SU)(d)]]),Be,(0,n._)("div",et,[(0,n._)("button",{onClick:t[2]||(t[2]=(...e)=>(0,o.SU)(i)&&(0,o.SU)(i)(...e)),class:"btn btn-light"},"Login")])])])])])]))}};const at=tt;var st=at;const nt=e=>((0,n.dD)("data-v-ac58a61a"),e=e(),(0,n.Cn)(),e),ot={class:"menu bg-light"},lt={class:"icon"},dt={class:"route-name"},it=nt((()=>(0,n._)("span",{class:"indicator"}," . ",-1)));var rt={__name:"MenuContainer",setup(e){const t=d(),{menuState:a,menuRoutes:s}=(0,l.Jk)(t),{toggleMenu:i}=t,r=Ip(),{role:c}=(0,l.Jk)(r),u=(0,v.tv)(),p=u.currentRoute.value,b=e=>{const t=e.target;t.classList.contains("wrapper")>0&&i()};return(e,t)=>{const l=(0,n.up)("router-link"),d=(0,n.Q2)("ripple");return(0,o.SU)(a)?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"wrapper position-fixed top-0 left-0 right-0 bottom-0",onClick:b},[(0,n._)("div",ot,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(s),((e,t)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("li",{key:t,class:(0,j.C_)([e.name==(0,o.SU)(p).name?"active":"",e.meta.isGlobalAdminRoute&&"global_admin"!=(0,o.SU)(c)?"d-none":"",e.meta.isGlobalAdminRoute||"global_admin"!=(0,o.SU)(c)?"":"d-none"]),"data-aos":"slide-in"},[(0,n.Wm)(l,{to:e.path,class:"d-flex align-items-center justify-content-between"},{default:(0,n.w5)((()=>[(0,n._)("span",lt,[(0,n._)("i",{class:(0,j.C_)(e.icon)},null,2)]),(0,n._)("span",dt,(0,j.zw)(e.name),1),it])),_:2},1032,["to"])],2)),[[d,"#0d6efd10"]]))),128))])])])):(0,n.kq)("",!0)}}};const ct=(0,c.Z)(rt,[["__scopeId","data-v-ac58a61a"]]);var ut=ct;const pt={class:"m-2 text-light"};function vt(e,t,a,s,o,l){return(0,n.wg)(),(0,n.iD)("h3",pt,(0,j.zw)(o.viewName),1)}var bt={data(){const e=this.$router.currentRoute._value.name;return{viewName:e}}};const mt=(0,c.Z)(bt,[["render",vt]]);var _t=mt;const gt=e=>((0,n.dD)("data-v-f06159b8"),e=e(),(0,n.Cn)(),e),ht=gt((()=>(0,n._)("i",{class:"fa fa-bars fa-2x"},null,-1))),yt=[ht],wt=gt((()=>(0,n._)("i",{class:"fa fa-arrow-left fa-2x"},null,-1))),ft=[wt];var kt={__name:"AdminHeaderButton",setup(e){const t=d(),{menuRoutes:a}=(0,l.Jk)(t),{toggleMenu:s}=t,i=(0,v.tv)(),r=i.currentRoute.value,c=(0,n.Fl)((()=>{let e=!1;const t=(0,o.SU)(a);for(var s=0;s<t.length;s++)if(t[s].name==r.name){e=!0;break}return e}));return(e,t)=>{const a=(0,n.Q2)("ripple");return(0,o.SU)(c)?(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{key:0,class:"p-1 text-light",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(s)&&(0,o.SU)(s)(...e))},yt)),[[a,"rgba(255,255,255,.2)"]]):((0,n.wg)(),(0,n.iD)("div",{key:1,class:"p-1 text-light",onClick:t[1]||(t[1]=e=>(0,o.SU)(i).back())},ft))}}};const Ut=(0,c.Z)(kt,[["__scopeId","data-v-f06159b8"]]);var St=Ut;const At=e=>((0,n.dD)("data-v-70bbb7a6"),e=e(),(0,n.Cn)(),e),Ct={class:"text-center bg-primary d-flex justify-content-between align-items-center position-fixed top-0 z-index-1"},Ht=At((()=>(0,n._)("div",null,null,-1)));var qt={__name:"AdminHeader",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)("header",Ct,[(0,n.Wm)((0,o.SU)(St)),(0,n.Wm)((0,o.SU)(_t)),Ht]))}};const xt=(0,c.Z)(qt,[["__scopeId","data-v-70bbb7a6"]]);var jt=xt;const Dt=(0,l.Q_)("dashboard",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a}=e,s=Ip(),{token:i,institutionId:r}=(0,l.Jk)(s),c=(0,o.iH)(0),u=(0,o.iH)([]),p=()=>{a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{const t=e.response;try{const e=JSON.parse(t),{body:s}=e;c.value=s[0].total,a()}catch(s){console.log(s)}})),e.open("GET",`${t.value}/api/candidate/total/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},v=()=>{a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{const t=e.response;try{const e=JSON.parse(t),{body:s}=e;u.value=s,a()}catch(s){console.log(s)}})),e.open("GET",`${t.value}/api/test/institution/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},b=(0,n.Fl)((()=>{const e=u.value.filter((e=>"active"==e.status));return e}));return{numberOfStudentsRegisteredSoFar:c,tests:u,activeTests:b,getNumberOfStudentsRegisteredSoFar:p,getTests:v}})),Rt={class:"container pt-5 mt-5"},Lt={class:"row"},Tt={class:"col-lg-6 col-md-6 col-sm-12 p-2"},Et={class:"card"},Mt=(0,n._)("div",{class:"card-header"},[(0,n._)("h5",{class:"card-title"},[(0,n._)("i",{class:"fas fa-users"}),(0,n.Uk)(" Number of Students Registered So Far")])],-1),$t={class:"card-body"},It={class:"card-text"},Jt={class:"card-footer"},zt={class:"text-muted"},Vt=(0,n._)("i",{class:"far fa-clock"},null,-1),Nt={class:"col-lg-6 col-md-6 col-sm-12 p-2"},Pt={class:"card"},Ot=(0,n._)("div",{class:"card-header"},[(0,n._)("h5",{class:"card-title"},[(0,n._)("i",{class:"fas fa-file-alt"}),(0,n.Uk)(" Number of Tests")])],-1),Qt={class:"card-body"},Xt={class:"card-text"},Yt={class:"card-footer"},Wt={class:"text-muted"},Kt=(0,n._)("i",{class:"far fa-calendar-alt"},null,-1),Gt={class:"col p-2"},Ft={class:"card"},Zt=(0,n._)("div",{class:"card-header"},[(0,n._)("h5",{class:"card-title"},[(0,n._)("i",{class:"fas fa-tasks"}),(0,n.Uk)(" Active Tests")])],-1),Bt={class:"card-body"},ea={class:"list-group list-group-flush"},ta={class:"card-footer"},aa={class:"text-muted"},sa=(0,n._)("i",{class:"far fa-calendar-alt"},null,-1);var na={__name:"DashboardView",setup(e){const t=Ip(),{role:a}=(0,l.Jk)(t),s=Dt(),{tests:d,numberOfStudentsRegisteredSoFar:i,activeTests:r}=(0,l.Jk)(s),{getNumberOfStudentsRegisteredSoFar:c,getTests:u}=s;return(0,n.bv)((()=>{if("global_admin"==a){const e=(0,v.tv)();e.replace("/admin/setup")}else c(),u()})),(e,t)=>{const a=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(jt)),(0,n.Wm)((0,o.SU)(ut)),(0,n._)("div",Rt,[(0,n._)("div",Lt,[(0,n._)("div",Tt,[(0,n._)("div",Et,[Mt,(0,n._)("div",$t,[(0,n._)("p",It,"There are currently "+(0,j.zw)((0,o.SU)(i))+" students that have taken tests for this institution",1)]),(0,n._)("div",Jt,[(0,n._)("small",zt,[Vt,(0,n.Uk)(" Retrieved "+(0,j.zw)(new Date),1)])])])]),(0,n._)("div",Nt,[(0,n._)("div",Pt,[Ot,(0,n._)("div",Qt,[(0,n._)("p",Xt,"There are currently "+(0,j.zw)((0,o.SU)(d).length)+" tests",1)]),(0,n._)("div",Yt,[(0,n._)("small",Wt,[Kt,(0,n.Uk)(),(0,n.Wm)(a,{to:"/admin/test/"},{default:(0,n.w5)((()=>[(0,n.Uk)("See more")])),_:1})])])])]),(0,n._)("div",Gt,[(0,n._)("div",Ft,[Zt,(0,n._)("div",Bt,[(0,n._)("ul",ea,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(r),(e=>((0,n.wg)(),(0,n.iD)("li",{class:"list-group-item",key:e.id},(0,j.zw)(e.test_name),1)))),128))])]),(0,n._)("div",ta,[(0,n._)("small",aa,[sa,(0,n.Uk)(),(0,n.Wm)(a,{to:"/admin/test/"},{default:(0,n.w5)((()=>[(0,n.Uk)("See more")])),_:1})])])])])])])],64)}}};const oa=na;var la=oa,da=a.p+"img/yetti.b204ccae.png";const ia=(0,l.Q_)("result",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=Ip(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)(null),c=(0,o.iH)([]),u=(0,o.iH)([]),p=async()=>{if(""==i.value)return void s("An error just occured please try again");a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);1==e.status?u.value=e.data:s("An error just occured, couldn't get the personas, refreshing")}catch(n){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to get the personas, please reload the page"),console.log(e)})),e.open("GET",`${t.value}/api/persona_data/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},v=async()=>{a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{const t=e.response;try{const e=JSON.parse(t),{body:s}=e;a(),c.value=s}catch(s){console.log(s)}})),e.open("GET",`${t.value}/api/result/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()};return{currentTestId:r,results:c,getResults:v,getPersonas:p,personas:u}})),ra={class:"container pt-1 mt-5"},ca={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},ua=(0,n._)("img",{src:da,id:"no_test"},null,-1),pa=(0,n._)("br",null,null,-1),va=(0,n._)("h5",null,"No results available",-1),ba=[ua,pa,va],ma={key:1,class:"container mt-3"},_a={class:"result-table-header row bg-primary rounded p-3 m-1 text-light shadow"},ga=(0,n._)("span",{class:"result-table-header-field text-uppercase col"},"Score",-1),ha={class:"result-table-body"},ya={class:"col"};var wa={__name:"ResultView",setup(e){const t=ia(),{results:a,personas:s}=(0,l.Jk)(t),{getResults:d,getPersonas:i}=t,r=(0,n.Fl)((()=>{const e=[];for(var t=0;t<a.value.length;t+=s.value.length){const l={id:a.value[t].id,test_name:a.value[t].test_name,score:a.value[t].score};for(var n=0;n<s.value.length;n++)try{l[a.value[t+n].persona_data]=a.value[t+n].persona_value}catch(o){}e.push(l)}return e}));return(0,n.bv)((()=>{i(),d()})),(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(jt)),(0,n.Wm)((0,o.SU)(ut)),(0,n._)("div",ra,[(0,o.SU)(a).length||(0,o.SU)(s).length?((0,n.wg)(),(0,n.iD)("div",ma,[(0,n._)("div",_a,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(s),(e=>((0,n.wg)(),(0,n.iD)("span",{class:"result-table-header-field text-uppercase col",key:e.id},(0,j.zw)(e.persona_data),1)))),128)),ga]),(0,n._)("div",ha,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(r),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"row m-1 shadow p-2",key:e.id},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(s),(t=>((0,n.wg)(),(0,n.iD)("span",{class:"result-table-body-row-col col",key:"persona_x_".concat(t.id)},(0,j.zw)(e[t.persona_data]),1)))),128)),(0,n._)("span",ya,(0,j.zw)(Math.round(e.score)),1)])))),128))])])):((0,n.wg)(),(0,n.iD)("div",ca,ba))])],64))}};const fa=wa;var ka=fa;const Ua=(0,l.Q_)("tests",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=Ip(),{token:i,institutionId:r}=(0,l.Jk)(n),c=(0,o.iH)([]),u=e=>{const n=JSON.stringify((0,o.SU)(e));a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const e=l.response;try{const t=JSON.parse(e);if(1==t.status){const{body:e}=t;c.value.push(e[0])}else s("An error just occured, please try again in a few seconds")}catch(t){s("An error just occured, please try again in a few seconds")}})),l.addEventListener("error",(e=>{s("An error just occured while trying to create the new test, please try again"),console.log(e)})),l.open("POST",`${t.value}/api/test`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send(n)},p=e=>{const n=(0,o.SU)(c).filter((t=>t.id==e)),l=JSON.stringify(n[0]);a();const d=new XMLHttpRequest;d.addEventListener("load",(()=>{a();const e=d.response;try{const t=JSON.parse(e);1==t.status?console.log():s("An error just occured, please try again in a few seconds")}catch(t){console.log(t),s("An error just occured, please try again in a few seconds")}})),d.addEventListener("error",(e=>{s("An error just occured while trying to edit the test, please try again"),console.log(e)})),d.open("PUT",`${t.value}/api/test`),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Authorization",`bearer ${i.value}`),d.send(l)},v=e=>{a();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{a();const t=n.response;try{const a=JSON.parse(t);if(1==a.status){const t=c.value.filter((t=>t.id!=e));c.value=t}else s("An error just occured, please try again in a few seconds")}catch(o){console.log(o),s("An error just occured, please try again in a few seconds")}})),n.addEventListener("error",(e=>{s("An error just occured while trying to delete the test, please try again"),console.log(e)})),n.open("DELETE",`${t.value}/api/test/${e}`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${i.value}`),n.send()},b=()=>{if(""==i.value)return void s("An error just occured please try again");a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);1==e.status?c.value=e.body:s("An error just occured, couldn't get the tests, refreshing")}catch(n){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to get the tests, please reload the page"),console.log(e)})),e.open("GET",`${t.value}/api/test/institution/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},m=e=>{const n=c.value.filter((t=>t.id==e))[0],o=JSON.stringify({id:e});if("active"==n.status){a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);if(1==e.status){for(var o=0;o<c.value.length;o++)if(c.value[o]==n){c.value[o].status="inactive";break}}else s("An error just occured, couldn't start the tests, refreshing")}catch(l){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to start the tests, please reload the page"),console.log(e)})),e.open("POST",`${t.value}/api/test/stop`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send(o)}else{a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);if(1==e.status){for(var o=0;o<c.value.length;o++)if(c.value[o]==n){c.value[o].status="active";break}}else s("An error just occured, couldn't stop the tests, refreshing")}catch(l){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to stop the tests, please reload the page"),console.log(e)})),e.open("POST",`${t.value}/api/test/start`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send(o)}};return{tests:c,createTest:u,editTest:p,getTests:b,deleteTest:v,handleStatusChange:m}})),Sa=(0,l.Q_)("questions",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=Ip(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)(0),c=(0,o.iH)([]),u=async()=>{if(""==i.value)return void s("An error just occured please try again");a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);1==e.status?c.value=e.questions:s("An error just occured, couldn't get the questions, refreshing")}catch(n){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to get the questions, please reload the page"),console.log(e)})),e.open("GET",`${t.value}/api/question/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},p=async e=>{if(""==i.value)return void s("An error just occured please try again");const n=JSON.stringify({testId:r.value,data:(0,o.SU)(e).data,type:(0,o.SU)(e).type});a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const e=l.response;try{const t=JSON.parse(e);1==t.status?c.value.push(t.body[0]):s("An error just occured, couldn't create the question, refreshing")}catch(t){s("An error just occured, it seems to be internal, please contact the admin")}})),l.addEventListener("error",(e=>{s("An error just occured while trying to create the question, please reload the page"),console.log(e)})),l.open("POST",`${t.value}/api/question/`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send(n)},v=async e=>{if(""==i.value)return void s("An error just occured please try again");const n=c.value.filter((t=>t.id==e))[0],o=JSON.stringify(n);a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const e=l.response;try{const t=JSON.parse(e);1==t.status?console.log():s("An error just occured, couldn't edit the question, refreshing")}catch(t){s("An error just occured, it seems to be internal, please contact the admin")}})),l.addEventListener("error",(e=>{s("An error just occured while trying to edit the question, please reload the page"),console.log(e)})),l.open("PUT",`${t.value}/api/question/`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send(o)},b=e=>{if(""==i.value)return void s("An error just occured please try again");a();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{a();const t=n.response;try{const a=JSON.parse(t);if(1==a.status){const t=c.value.filter((t=>t.id!=e));c.value=t}else s("An error just occured, couldn't edit the question, refreshing")}catch(o){s("An error just occured, it seems to be internal, please contact the admin")}})),n.addEventListener("error",(e=>{s("An error just occured while trying to edit the question, please reload the page"),console.log(e)})),n.open("DELETE",`${t.value}/api/question/${e}`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${i.value}`),n.send()};return{testId:r,questions:c,getQuestions:u,createQuestion:p,editQuestion:v,deleteQuestion:b}})),Aa=(0,l.Q_)("personas",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=Ip(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)(0),c=(0,o.iH)([]),u=async()=>{if(""==i.value)return void s("An error just occured please try again");a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);1==e.status?c.value=e.data:s("An error just occured, couldn't get the personas, refreshing")}catch(n){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to get the personas, please reload the page"),console.log(e)})),e.open("GET",`${t.value}/api/persona_data/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},p=async e=>{if(""==i.value)return void s("An error just occured please try again");const n=JSON.stringify(e);a();const o=new XMLHttpRequest;o.addEventListener("load",(()=>{a();const e=o.response;try{const t=JSON.parse(e);1==t.status?c.value.push(t.body[0]):s("An error just occured, couldn't create the persona, refreshing")}catch(t){s("An error just occured, it seems to be internal, please contact the admin")}})),o.addEventListener("error",(e=>{s("An error just occured while trying to create the persona, please reload the page"),console.log(e)})),o.open("POST",`${t.value}/api/persona_data/`),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Authorization",`bearer ${i.value}`),o.send(n)},v=async e=>{if(""==i.value)return void s("An error just occured please try again");const n=c.value.filter((t=>t.id==e))[0],o=JSON.stringify(n);a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const e=l.response;try{const t=JSON.parse(e);1==t.status?console.log():s("An error just occured, couldn't edit the persona, refreshing")}catch(t){s("An error just occured, it seems to be internal, please contact the admin")}})),l.addEventListener("error",(e=>{s("An error just occured while trying to edit the persona, please reload the page"),console.log(e)})),l.open("PUT",`${t.value}/api/persona_data/`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send(o)},b=e=>{if(""==i.value)return void s("An error just occured please try again");a();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{a();const t=n.response;try{const a=JSON.parse(t);if(1==a.status){const t=c.value.filter((t=>t.id!=e));c.value=t}else s("An error just occured, couldn't delete the persona, refreshing")}catch(o){s("An error just occured, it seems to be internal, please contact the admin")}})),n.addEventListener("error",(e=>{s("An error just occured while trying to delete the persona, please reload the page"),console.log(e)})),n.open("DELETE",`${t.value}/api/persona_data/${e}`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${i.value}`),n.send()};return{testId:r,personas:c,getPersonas:u,createPersona:p,editPersona:v,deletePersona:b}}));var Ca=a(7092);a(3767),a(8585),a(8696);const Ha=e=>{const t=new ArrayBuffer(e.length),a=new Uint8Array(t);for(let s=0;s<e.length;s++)a[s]=255&e.charCodeAt(s);return t},qa=(0,l.Q_)("certificate",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=Ip(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)(null),c=(0,o.iH)([]),u=()=>{a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{const t=e.response,s=JSON.parse(t);if(1==s.status){const{body:e}=s;c.value=e}else alert(s.message);a()})),e.open("GET",`${t.value}/api/certificate/${r.value}`),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},p=e=>{const s=c.value.filter((t=>t.id==e))[0];a();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{const e=n.response,t=JSON.parse(e);1==t.status?a():(alert(t.message),console.log(t))})),n.open("PUT",`${t.value}/api/certificate/`),n.setRequestHeader("Authorization",`bearer ${i.value}`),n.send(JSON.stringify(s))},v=e=>{a();const s=new XMLHttpRequest;s.addEventListener("load",(()=>{const t=s.response,n=JSON.parse(t);if(1==n.status){const t=c.value.filter((t=>t.id!=e));c.value=t,a()}else alert(n.message)})),s.open("DELETE",`${t.value}/api/certificate/${e}`),s.setRequestHeader("Authorization",`bearer ${i.value}`),s.send()},b=e=>{a();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{const o=n.response;try{const n=JSON.parse(o),{body:l}=n,d=l,c=[],u=new XMLHttpRequest;u.addEventListener("load",(()=>{const n=u.response;try{const r=JSON.parse(n);if(1==r.status){const s=r.data;for(var o=0;o<d.length;o+=s.length){const a={"S/N":o+1,"TEST NAME":d[o].test_name,SCORE:d[o].score};for(var l=0;l<s.length;l++)try{a[d[o+l].persona_data.toUpperCase()]=d[o+l].persona_value}catch(i){}a["Certificate Link"]=`${t.value}/certificate/?cerid=${e}&cid=${d[o].candidate_id}`,c.push(a)}const n=Ca.P6.json_to_sheet(c),u=Ca.P6.book_new();Ca.P6.book_append_sheet(u,n,"Result");const p=(0,Ca.cW)(u,{bookType:"xlsx",type:"binary"}),v=new Blob([Ha(p)],{type:"application/octet-stream"}),b=document.createElement("a");b.href=URL.createObjectURL(v),b.download="result.xlsx",document.body.appendChild(b),b.click(),document.body.removeChild(b),a()}else s("An error just occured, couldn't get the personas, refreshing")}catch(i){s("An error just occured, it seems to be internal, please contact the admin")}})),u.addEventListener("error",(e=>{s("An error just occured while trying to get the personas, please reload the page"),console.log(e)})),u.open("GET",`${t.value}/api/persona_data/${r.value}`),u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Authorization",`bearer ${i.value}`),u.send()}catch(l){console.log(l)}})),n.open("GET",`${t.value}/api/result/${r.value}`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${i.value}`),n.send()};return{certTestId:r,certificates:c,getCertificates:u,editCertificate:p,deleteCertificate:v,generateList:b}})),xa=e=>((0,n.dD)("data-v-43145120"),e=e(),(0,n.Cn)(),e),ja={class:"container pt-5 mt-5"},Da={class:"row"},Ra={class:"col-2"},La={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addTestModal"},Ta=xa((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),Ea=xa((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),Ma=[Ea],$a={class:"col-10"},Ia={class:"input-group"},Ja=xa((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),za={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},Va=xa((()=>(0,n._)("img",{src:da,id:"no_test"},null,-1))),Na=xa((()=>(0,n._)("br",null,null,-1))),Pa=xa((()=>(0,n._)("h5",null,"No tests available please add a new one",-1))),Oa=[Va,Na,Pa],Qa={key:1,class:"container mt-3"},Xa=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-43145120><div class="data-heading col text-bold text-light p-2" data-v-43145120> Name </div><div class="data-heading col text-bold text-light p-2" data-v-43145120> Duration </div><div class="data-heading col text-bold text-light p-2" data-v-43145120> Status </div><div class="data-heading col text-bold text-light p-2" data-v-43145120> Test code </div><div class="data-heading col" data-v-43145120></div><div class="data-heading col" data-v-43145120></div><div class="data-heading col" data-v-43145120></div><div class="data-heading col" data-v-43145120></div><div class="data-heading col" data-v-43145120></div><div class="data-heading col" data-v-43145120></div><div class="data-heading col" data-v-43145120></div></div>',1),Ya=["id"],Wa={class:"col"},Ka={class:"col"},Ga={class:"col"},Fa={class:"col"},Za={class:"col"},Ba=["data-bs-target"],es={class:"col"},ts=["onClick"],as={class:"col"},ss=["id","onClick"],ns={class:"col"},os=["id","onClick"],ls={class:"col"},ds=["id","onClick"],is={class:"col"},rs=["id","data-bs-target"],cs={class:"col"},us=["id","data-bs-target"],ps={class:"modal fade",id:"addTestModal",tabindex:"-1","aria-labelledby":"addTestModalLabel","aria-hidden":"true"},vs={class:"modal-dialog"},bs={class:"modal-content"},ms=xa((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addTestModalLabel"},"Add Test"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),_s={class:"modal-body"},gs={class:"p-1"},hs={class:"p-1"},ys={class:"p-1"},ws=xa((()=>(0,n._)("option",{disabled:""},"Select test type",-1))),fs=xa((()=>(0,n._)("option",{value:"manual"},"Manual",-1))),ks=xa((()=>(0,n._)("option",{value:"scheduled"},"Scheduled",-1))),Us=[ws,fs,ks],Ss={class:"p-1"},As=xa((()=>(0,n._)("option",{disabled:""},"Select time protocol",-1))),Cs=xa((()=>(0,n._)("option",{value:"server"},"Server",-1))),Hs=xa((()=>(0,n._)("option",{value:"client"},"Client",-1))),qs=[As,Cs,Hs],xs={class:"p-1"},js={class:"p-1"},Ds=xa((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Rs=["id"],Ls={class:"modal-dialog"},Ts={class:"modal-content"},Es=xa((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editTestModalHeader"},"Edit Test"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ms={class:"modal-body"},$s={class:"p-1"},Is=["onUpdate:modelValue"],Js={class:"p-1"},zs=["onUpdate:modelValue"],Vs={class:"p-1"},Ns=["onUpdate:modelValue"],Ps=xa((()=>(0,n._)("option",{disabled:""},"Select test type",-1))),Os=xa((()=>(0,n._)("option",{value:"manual"},"Manual",-1))),Qs=xa((()=>(0,n._)("option",{value:"scheduled"},"Scheduled",-1))),Xs=[Ps,Os,Qs],Ys={class:"p-1"},Ws=["onUpdate:modelValue"],Ks=xa((()=>(0,n._)("option",{disabled:""},"Select time protocol",-1))),Gs=xa((()=>(0,n._)("option",{value:"server"},"Server",-1))),Fs=xa((()=>(0,n._)("option",{value:"client"},"Client",-1))),Zs=[Ks,Gs,Fs],Bs={class:"p-1"},en=["onUpdate:modelValue"],tn={class:"p-1"},an=["onUpdate:modelValue"],sn={class:"modal-footer"},nn={class:"row"},on=xa((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),ln={class:"col"},dn=["onClick"],rn=["id"],cn={class:"modal-dialog modal-dialog-centered"},un={class:"modal-content"},pn=xa((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"deleteTestModalHeader"},"Delete Test"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),vn={class:"modal-body text-center"},bn={class:"text-lowercase"},mn={class:"modal-footer"},_n={class:"row"},gn=xa((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),hn={class:"col"},yn=["onClick"],wn=["id"],fn={class:"modal-dialog modal-dialog-centered"},kn={class:"modal-content"},Un={class:"modal-header"},Sn={class:"modal-title",id:"startTestModalHeader"},An=xa((()=>(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),Cn={class:"modal-body text-center"},Hn={class:"text-lowercase"},qn={class:"modal-footer"},xn={class:"row"},jn=xa((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Dn={class:"col"},Rn=["onClick"];var Ln={__name:"TestView",setup(e){const t=(0,v.tv)(),a=Ua(),{tests:d}=(0,l.Jk)(a),{getTests:i,createTest:r,editTest:c,deleteTest:u,handleStatusChange:p}=a,b=Sa(),{testId:m}=(0,l.Jk)(b),_=ia(),{currentTestId:g}=(0,l.Jk)(_),h=(0,o.iH)(""),y=Ip(),{institutionId:w}=(0,l.Jk)(y),f=qa(),{certTestId:k}=(0,l.Jk)(f);(0,n.bv)((()=>{i()}));const U=(0,o.iH)({name:"",institutionId:(0,o.SU)(w),duration:"30",type:"manual",timeProtocol:"client",startTime:"",endTime:"",usePreRegisteredCandidates:"true",randomizeQuestions:"true",totalMark:100}),S=()=>{r(U)},A=e=>{m.value=e,t.push("/admin/questions")},C=Aa(),H=e=>{C.testId=e,t.push("/admin/persona")},q=e=>{g.value=e,t.push("/admin/result")},x=e=>{k.value=e,t.push("/admin/certificate")};return(e,t)=>{const a=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(jt)),(0,n.Wm)((0,o.SU)(ut)),(0,n._)("div",ja,[(0,n._)("div",Da,[(0,n._)("div",Ra,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",La,[Ta,(0,n.Uk)(" add ")])),[[a,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(i)&&(0,o.SU)(i)(...e))},Ma)),[[a,"#0d6efd10"]])]),(0,n._)("div",$a,[(0,n._)("div",Ia,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>h.value=e),class:"form-control"},null,512),[[s.nr,h.value]]),Ja])])]),(0,o.SU)(d).length?((0,n.wg)(),(0,n.iD)("div",Qa,[Xa,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",Wa,(0,j.zw)(e.test_name),1),(0,n._)("div",Ka,(0,j.zw)(e.duration),1),(0,n._)("div",Ga,(0,j.zw)(e.status),1),(0,n._)("div",Fa,(0,j.zw)(e.test_name)+"/"+(0,j.zw)(e.id)+"/"+(0,j.zw)(e.institution_id),1),(0,n._)("div",Za,[(0,n._)("button",{class:(0,j.C_)(["btn","active"!=e.status?"btn-info":"btn-danger"]),"data-bs-toggle":"modal","data-bs-target":"#startTestModal".concat(e.id)},(0,j.zw)("active"!=e.status?"start":"stop"),11,Ba)]),(0,n._)("div",es,[(0,n._)("button",{class:"btn btn-secondary",onClick:t=>A(e.id)},"Questions",8,ts)]),(0,n._)("div",as,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,onClick:t=>H(e.id)},"Persona",8,ss)]),(0,n._)("div",ns,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,onClick:t=>x(e.id)},"Certificate",8,os)]),(0,n._)("div",ls,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,onClick:t=>q(e.id)},"Results",8,ds)]),(0,n._)("div",is,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editTestModal".concat(e.id)},"Edit",8,rs)]),(0,n._)("div",cs,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deleteTestModal".concat(e.id)},"Delete",8,us)])],8,Ya)))),128))])):((0,n.wg)(),(0,n.iD)("div",za,Oa))]),(0,n._)("div",ps,[(0,n._)("div",vs,[(0,n._)("div",bs,[ms,(0,n._)("div",_s,[(0,n._)("div",gs,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>U.value.name=e),type:"text",class:"form-control",placeholder:"Name"},null,512),[[s.nr,U.value.name]])]),(0,n._)("div",hs,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>U.value.duration=e),type:"number",class:"form-control",min:"1",placeholder:"Duration"},null,512),[[s.nr,U.value.duration]])]),(0,n._)("div",ys,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>U.value.type=e),class:"form-select"},Us,512),[[s.bM,U.value.type]])]),(0,n._)("div",Ss,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>U.value.timeProtocol=e),class:"form-select"},qs,512),[[s.bM,U.value.timeProtocol]])]),(0,n._)("div",xs,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>U.value.totalMark=e),type:"number",class:"form-control",placeholder:"Total mark"},null,512),[[s.nr,U.value.totalMark]])]),(0,n._)("div",js,[(0,n._)("label",null,[(0,n.Uk)("Randomize questions "),(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>U.value.randomizeQuestions=e)},null,512),[[s.e8,U.value.randomizeQuestions]])])])]),(0,n._)("div",{class:"modal-footer"},[(0,n._)("div",{class:"row"},[Ds,(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",onClick:S,"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editTestModal".concat(e.id),tabindex:"-1","aria-labelledby":"editTestModalLabel","aria-hidden":"true"},[(0,n._)("div",Ls,[(0,n._)("div",Ts,[Es,(0,n._)("div",Ms,[(0,n._)("div",$s,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.test_name=t,type:"text",class:"form-control",placeholder:"Name"},null,8,Is),[[s.nr,e.test_name]])]),(0,n._)("div",Js,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.duration=t,type:"number",class:"form-control",min:"1",placeholder:"Duration"},null,8,zs),[[s.nr,e.duration]])]),(0,n._)("div",Vs,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t=>e.type=t,class:"form-select"},Xs,8,Ns),[[s.bM,e.type]])]),(0,n._)("div",Ys,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t=>e.time_protocol=t,class:"form-select"},Zs,8,Ws),[[s.bM,e.time_protocol]])]),(0,n._)("div",Bs,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.total_mark=t,type:"number",class:"form-control",placeholder:"Total mark"},null,8,en),[[s.nr,e.total_mark]])]),(0,n._)("div",tn,[(0,n._)("label",null,[(0,n.Uk)("Randomize questions "),(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t=>e.randomize_questions=t},null,8,an),[[s.e8,e.randomize_questions]])])])]),(0,n._)("div",sn,[(0,n._)("div",nn,[on,(0,n._)("div",ln,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(c)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,dn)])])])])])],8,Rs)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_delete".concat(e.id),id:"deleteTestModal".concat(e.id),tabindex:"-1","aria-labelledby":"deleteTestModalLabel","aria-hidden":"true"},[(0,n._)("div",cn,[(0,n._)("div",un,[pn,(0,n._)("div",vn,[(0,n.Uk)(" Delete this "),(0,n._)("span",bn,(0,j.zw)(e.test_name),1),(0,n.Uk)(" test? ")]),(0,n._)("div",mn,[(0,n._)("div",_n,[gn,(0,n._)("div",hn,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(u)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,yn)])])])])])],8,rn)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_start".concat(e.id),id:"startTestModal".concat(e.id),tabindex:"-1","aria-labelledby":"startTestModalLabel","aria-hidden":"true"},[(0,n._)("div",fn,[(0,n._)("div",kn,[(0,n._)("div",Un,[(0,n._)("h5",Sn,(0,j.zw)("active"==e.status?"Stop":"Start")+" Test",1),An]),(0,n._)("div",Cn,[(0,n.Uk)((0,j.zw)("active"==e.status?"Stop":"Start")+" this ",1),(0,n._)("span",Hn,(0,j.zw)(e.test_name),1),(0,n.Uk)(" test? ")]),(0,n._)("div",qn,[(0,n._)("div",xn,[jn,(0,n._)("div",Dn,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(p)(e.id),"data-bs-dismiss":"modal",class:(0,j.C_)(["btn","active"==e.status?"btn-danger":"btn-info"])},"Yes",10,Rn)])])])])])],8,wn)))),128))],64)}}};const Tn=(0,c.Z)(Ln,[["__scopeId","data-v-43145120"]]);var En=Tn;const Mn=(0,l.Q_)("setup",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=Ip(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)([]),c=()=>new Promise(((e,n)=>{if(""==i.value)return void s("An error just occured please try again");a();const o=new XMLHttpRequest;o.addEventListener("load",(()=>{a();const t=o.response;try{const a=JSON.parse(t);1==a.status?(r.value=a.body,e(!0)):(s("An error just occured, couldn't get the institutions, refreshing"),n(!1))}catch(l){s("An error just occured, it seems to be internal, please contact the admin"),n(!1)}})),o.addEventListener("error",(e=>{s("An error just occured while trying to get the institutions, please reload the page"),console.log(e)})),o.open("GET",`${t.value}/api/institution/all`),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Authorization",`bearer ${i.value}`),o.send()})),u=e=>new Promise(((n,o)=>{const l=JSON.stringify(e.value);if(""==i.value)return void s("An error just occured please try again");a();const d=new XMLHttpRequest;d.addEventListener("load",(()=>{a();const e=d.response;try{const t=JSON.parse(e);1==t.status?(r.value.push(t.body[0]),n(!0)):(s("An error just occured, couldn't add the institution, refreshing"),o(!1))}catch(t){s("An error just occured, it seems to be internal, please contact the admin"),o(!1)}})),d.addEventListener("error",(e=>{s("An error just occured while trying to add the institution, please reload the page"),console.log(e)})),d.open("POST",`${t.value}/api/institution`),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Authorization",`bearer ${i.value}`),d.send(l)})),p=e=>new Promise(((n,o)=>{const l=r.value.filter((t=>t.id==e))[0],d=JSON.stringify(l);if(console.log({payload:l,body:d}),""==i.value)return void s("An error just occured please try again");a();const c=new XMLHttpRequest;c.addEventListener("load",(()=>{a();const e=c.response;try{const t=JSON.parse(e);"true"==t.status?n(!0):(s("An error just occured, couldn't edit the institution, refreshing"),o(e))}catch(t){s("An error just occured, it seems to be internal, please contact the admin"),o(t)}})),c.addEventListener("error",(e=>{s("An error just occured while trying to edit the institution, please reload the page"),console.log(e)})),c.open("PUT",`${t.value}/api/institution`),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Authorization",`bearer ${i.value}`),c.send(d)})),v=e=>new Promise(((n,o)=>{if(""==i.value)return void s("An error just occured please try again");a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const t=l.response;try{const a=JSON.parse(t);if(1==a.status){const t=r.value.filter((t=>t.id!=e));r.value=t,n(!0)}else s("An error just occured, couldn't delete the institution, refreshing"),o(t)}catch(d){s("An error just occured, it seems to be internal, please contact the admin"),o(d)}})),l.addEventListener("error",(e=>{s("An error just occured while trying to delete the institution, please reload the page"),console.log(e)})),l.open("DELETE",`${t.value}/api/institution/${e}`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send()}));return{institutions:r,getInstitutions:c,addInstitution:u,editInstitution:p,deleteInstitution:v}})),$n=(0,l.Q_)("users",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=Ip(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)(null),c=(0,o.iH)([]),u=()=>new Promise(((e,n)=>{if(""==i.value)return void s("An error just occured please try again");a();const o=new XMLHttpRequest;o.addEventListener("load",(()=>{a();const t=o.response;try{const a=JSON.parse(t);1==a.status?(c.value=a.body,e(a)):(s("An error just occured, couldn't get the users, refreshing"),n(t))}catch(l){s("An error just occured, it seems to be internal, please contact the admin"),n(t)}})),o.addEventListener("error",(e=>{s("An error just occured while trying to get the users, please reload the page"),console.log(e)})),o.open("GET",`${t.value}/api/user/${r.value}`),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Authorization",`bearer ${i.value}`),o.send()})),p=e=>new Promise(((n,o)=>{const l=JSON.stringify(e.value);if(console.log(l),""==i.value)return void s("An error just occured please try again");a();const d=new XMLHttpRequest;d.addEventListener("load",(()=>{a();const e=d.response;try{const t=JSON.parse(e);"true"==t.status?(c.value.push(t.body[0]),n(t)):(s("An error just occured, couldn't add the user, refreshing"),o(e))}catch(t){s("An error just occured, it seems to be internal, please contact the admin"),o(e)}})),d.addEventListener("error",(e=>{s("An error just occured while trying to add the user, please reload the page"),console.log(e)})),d.open("POST",`${t.value}/api/user`),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Authorization",`bearer ${i.value}`),d.send(l)})),v=e=>new Promise(((n,o)=>{const l=c.value.filter((t=>t.id==e))[0],d=JSON.stringify(l);if(console.log({payload:l,body:d}),""==i.value)return void s("An error just occured please try again");a();const r=new XMLHttpRequest;r.addEventListener("load",(()=>{a();const e=r.response;try{const t=JSON.parse(e);1==t.status?n(!0):(s("An error just occured, couldn't edit the user, refreshing"),o(e))}catch(t){s("An error just occured, it seems to be internal, please contact the admin"),o(t)}})),r.addEventListener("error",(e=>{s("An error just occured while trying to edit the user, please reload the page"),console.log(e)})),r.open("PUT",`${t.value}/api/user`),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization",`bearer ${i.value}`),r.send(d)})),b=e=>new Promise(((n,o)=>{if(""==i.value)return void s("An error just occured please try again");a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const t=l.response;try{const a=JSON.parse(t);if(1==a.status){const t=c.value.filter((t=>t.id!=e));c.value=t,n(!0)}else s("An error just occured, couldn't delete the user, refreshing"),o(t)}catch(d){s("An error just occured, it seems to be internal, please contact the admin"),o(d)}})),l.addEventListener("error",(e=>{s("An error just occured while trying to delete the user, please reload the page"),console.log(e)})),l.open("DELETE",`${t.value}/api/user/${e}`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send()}));return{users:c,getUsers:u,addUser:p,editUser:v,deleteUser:b,currentInstitutionId:r}})),In=e=>((0,n.dD)("data-v-48a97959"),e=e(),(0,n.Cn)(),e),Jn={class:"container pt-5 mt-5"},zn={class:"row"},Vn={class:"col-2"},Nn={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addInstitutionModal"},Pn=In((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),On=In((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),Qn=[On],Xn={class:"col-10"},Yn={class:"input-group"},Wn=In((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),Kn={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},Gn=In((()=>(0,n._)("img",{src:da,id:"no_test"},null,-1))),Fn=In((()=>(0,n._)("br",null,null,-1))),Zn=In((()=>(0,n._)("h5",null,"No institution available please add a new one",-1))),Bn=[Gn,Fn,Zn],eo={key:1,class:"container mt-3"},to=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-48a97959><div class="data-heading col-3 text-bold text-light p-2" data-v-48a97959> Name </div><div class="data-heading col-3 text-bold text-light p-2" data-v-48a97959> Creation date </div><div class="data-heading col-2" data-v-48a97959></div><div class="data-heading col-2" data-v-48a97959></div><div class="data-heading col-2" data-v-48a97959></div></div>',1),ao=["id"],so={class:"col-3"},no={class:"col-3"},oo={class:"col-2"},lo=["id","onClick"],io={class:"col-2"},ro=["id","data-bs-target"],co={class:"col-2"},uo=["id","data-bs-target"],po={class:"modal fade",id:"addInstitutionModal",tabindex:"-1","aria-labelledby":"addInstitutionModalLabel","aria-hidden":"true"},vo={class:"modal-dialog"},bo={class:"modal-content"},mo=In((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addInstitutionModalHeader"},"Add Institution"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),_o={class:"modal-body"},go={class:"p-1"},ho=In((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),yo=["id"],wo={class:"modal-dialog"},fo={class:"modal-content"},ko=In((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editInstitutionModalHeader"},"Edit Institution"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Uo={class:"modal-body"},So={class:"p-1"},Ao=["onUpdate:modelValue"],Co={class:"modal-footer"},Ho={class:"row"},qo=In((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),xo={class:"col"},jo=["onClick"],Do=["id"],Ro={class:"modal-dialog modal-dialog-centered"},Lo={class:"modal-content"},To=In((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:""},"Delete Institution"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Eo={class:"modal-body text-center"},Mo={class:"text-lowercase"},$o={class:"modal-footer"},Io={class:"row"},Jo=In((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),zo={class:"col"},Vo=["onClick"];var No={__name:"SetupView",setup(e){const t=Mn(),{institutions:a}=(0,l.Jk)(t),{getInstitutions:d,addInstitution:i,editInstitution:r,deleteInstitution:c}=t,u=$n(),{currentInstitutionId:p}=(0,l.Jk)(u),b=(0,v.tv)(),m=(0,o.iH)(""),_=(0,o.iH)({name:""});(0,n.bv)((()=>{d()}));const g=()=>{i(_)},h=e=>{p.value=e,b.push("/admin/users")};return(e,t)=>{const l=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(jt)),(0,n.Wm)((0,o.SU)(ut)),(0,n._)("div",Jn,[(0,n._)("div",zn,[(0,n._)("div",Vn,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",Nn,[Pn,(0,n.Uk)(" add ")])),[[l,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(d)&&(0,o.SU)(d)(...e))},Qn)),[[l,"#0d6efd10"]])]),(0,n._)("div",Xn,[(0,n._)("div",Yn,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),class:"form-control"},null,512),[[s.nr,m.value]]),Wn])])]),(0,o.SU)(a).length?((0,n.wg)(),(0,n.iD)("div",eo,[to,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",so,(0,j.zw)(e.institution_name),1),(0,n._)("div",no,(0,j.zw)(new Date(e.creation_date).toISOString().slice(0,19).replace("T"," ")),1),(0,n._)("div",oo,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,onClick:t=>h(e.id)},"Show users",8,lo)]),(0,n._)("div",io,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editInstitution".concat(e.id)},"Edit",8,ro)]),(0,n._)("div",co,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deleteInstitution".concat(e.id)},"Delete",8,uo)])],8,ao)))),128))])):((0,n.wg)(),(0,n.iD)("div",Kn,Bn))]),(0,n._)("div",po,[(0,n._)("div",vo,[(0,n._)("div",bo,[mo,(0,n._)("div",_o,[(0,n._)("div",go,[(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>_.value.name=e),type:"text",class:"form-control",placeholder:"Name of institution"},null,512),[[s.nr,_.value.name]])])]),(0,n._)("div",{class:"modal-footer"},[(0,n._)("div",{class:"row"},[ho,(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",onClick:g,"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editInstitution".concat(e.id),tabindex:"-1","aria-labelledby":"editInstitutionModal","aria-hidden":"true"},[(0,n._)("div",wo,[(0,n._)("div",fo,[ko,(0,n._)("div",Uo,[(0,n._)("div",So,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.institution_name=t,type:"text",class:"form-control",placeholder:"Data"},null,8,Ao),[[s.nr,e.institution_name]])])]),(0,n._)("div",Co,[(0,n._)("div",Ho,[qo,(0,n._)("div",xo,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(r)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,jo)])])])])])],8,yo)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"deleteInstitution".concat(e.id),tabindex:"-1","aria-labelledby":"deleteInstitutionLabel","aria-hidden":"true"},[(0,n._)("div",Ro,[(0,n._)("div",Lo,[To,(0,n._)("div",Eo,[(0,n._)("span",Mo,(0,j.zw)(e.institution_name),1)]),(0,n._)("div",$o,[(0,n._)("div",Io,[Jo,(0,n._)("div",zo,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(c)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,Vo)])])])])])],8,Do)))),128))],64)}}};const Po=(0,c.Z)(No,[["__scopeId","data-v-48a97959"]]);var Oo=Po,Qo={__name:"AdminView",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(jt)),(0,n.Wm)((0,o.SU)(ut))],64))}};const Xo=Qo;var Yo=Xo;const Wo=(0,l.Q_)("answers",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=Ip(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)(0),c=(0,o.iH)([]),u=async()=>{if(""==i.value)return void s("An error just occured please try again");a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);1==e.status?c.value=e.answers:s("An error just occured, couldn't get the answers, refreshing")}catch(n){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to get the answers, please reload the page"),console.log(e)})),e.open("GET",`${t.value}/api/answer/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},p=async e=>{if(""==i.value)return void s("An error just occured please try again");const n=JSON.stringify({questionId:r.value,data:(0,o.SU)(e).data,type:(0,o.SU)(e).type});a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const e=l.response;try{const t=JSON.parse(e);1==t.status?c.value.push(t.body[0]):s("An error just occured, couldn't create the answer, refreshing")}catch(t){console.log(t),s("An error just occured, it seems to be internal, please contact the admin")}})),l.addEventListener("error",(e=>{s("An error just occured while trying to create the answer, please reload the page"),console.log(e)})),l.open("POST",`${t.value}/api/answer/`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send(n)},v=async e=>{if(""==i.value)return void s("An error just occured please try again");const n=c.value.filter((t=>t.id==e))[0],o=JSON.stringify(n);a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const e=l.response;try{const t=JSON.parse(e);1==t.status?console.log():s("An error just occured, couldn't edit the answer, refreshing")}catch(t){s("An error just occured, it seems to be internal, please contact the admin")}})),l.addEventListener("error",(e=>{s("An error just occured while trying to edit the answer, please reload the page"),console.log(e)})),l.open("PUT",`${t.value}/api/answer/`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send(o)},b=e=>{if(""==i.value)return void s("An error just occured please try again");a();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{a();const t=n.response;try{const a=JSON.parse(t);if(1==a.status){const t=c.value.filter((t=>t.id!=e));c.value=t}else s("An error just occured, couldn't edit the answer, refreshing")}catch(o){s("An error just occured, it seems to be internal, please contact the admin")}})),n.addEventListener("error",(e=>{s("An error just occured while trying to edit the answer, please reload the page"),console.log(e)})),n.open("DELETE",`${t.value}/api/answer/${e}`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${i.value}`),n.send()},m=e=>{if(""==i.value)return void s("An error just occured please try again");a();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{a();const t=n.response;try{const a=JSON.parse(t);if(1==a.status){const t=c.value.filter((t=>t.id==e))[0];for(var o=0;o<c.value.length;o++)c.value[o]==t?c.value[o].is_right_answer=1:c.value[o].is_right_answer=0}else s("An error just occured, couldn't set as right answer, refreshing")}catch(l){s("An error just occured, it seems to be internal, please contact the admin")}})),n.addEventListener("error",(e=>{s("An error just occured while trying to set as right answer, please reload the page"),console.log(e)})),n.open("POST",`${t.value}/api/answer/set_as_right_answer/${e}`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${i.value}`),n.send()};return{questionId:r,answers:c,getAnswers:u,createAnswer:p,editAnswer:v,deleteAnswer:b,setAsRightAnswer:m}})),Ko=e=>((0,n.dD)("data-v-88f1827a"),e=e(),(0,n.Cn)(),e),Go={class:"container pt-5 mt-5"},Fo={class:"text-center p-3"},Zo={class:"text-lowercase"},Bo={class:"row"},el={class:"col-3"},tl={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addQuestionModal"},al=Ko((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),sl=Ko((()=>(0,n._)("i",{class:"fa fa-upload"},null,-1))),nl=Ko((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),ol=[nl],ll={class:"col-8"},dl={class:"input-group"},il=Ko((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),rl={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},cl=Ko((()=>(0,n._)("img",{src:da,id:"no_test"},null,-1))),ul=Ko((()=>(0,n._)("br",null,null,-1))),pl=Ko((()=>(0,n._)("h5",null,"No questions available please add a new one",-1))),vl=[cl,ul,pl],bl={key:1,class:"container mt-3"},ml=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-88f1827a><div class="data-heading col text-bold text-light p-2" data-v-88f1827a> Data </div><div class="data-heading col text-bold text-light p-2" data-v-88f1827a> Type </div><div class="data-heading col" data-v-88f1827a></div><div class="data-heading col" data-v-88f1827a></div></div>',1),_l=["id"],gl={class:"col"},hl={class:"col"},yl={class:"col"},wl=["onClick"],fl={class:"col"},kl=["id","data-bs-target"],Ul={class:"col"},Sl=["id","data-bs-target"],Al={class:"modal fade",id:"addQuestionModal",tabindex:"-1","aria-labelledby":"addQuestionModalLabel","aria-hidden":"true"},Cl={class:"modal-dialog"},Hl={class:"modal-content"},ql=Ko((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addQuestionModalHeader"},"Add Question"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),xl={class:"modal-body"},jl={class:"p-1"},Dl={class:"p-1"},Rl=Ko((()=>(0,n._)("option",{disabled:""},"Select test type",-1))),Ll=Ko((()=>(0,n._)("option",{value:"single_choice"},"Single choice",-1))),Tl=Ko((()=>(0,n._)("option",{value:"multiple_choice"},"Multiple choice",-1))),El=Ko((()=>(0,n._)("option",{value:"true_false"},"True false",-1))),Ml=[Rl,Ll,Tl,El],$l=Ko((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Il=["id"],Jl={class:"modal-dialog"},zl={class:"modal-content"},Vl=Ko((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editQuestionModalheader"},"Edit question"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Nl={class:"modal-body"},Pl={class:"p-1"},Ol=["onUpdate:modelValue"],Ql={class:"p-1"},Xl=["onUpdate:modelValue"],Yl=Ko((()=>(0,n._)("option",{disabled:""},"Select test type",-1))),Wl=Ko((()=>(0,n._)("option",{value:"single_choice"},"Single choice",-1))),Kl=Ko((()=>(0,n._)("option",{value:"multiple_choice"},"Multiple choice",-1))),Gl=Ko((()=>(0,n._)("option",{value:"true_false"},"True false",-1))),Fl=[Yl,Wl,Kl,Gl],Zl={class:"modal-footer"},Bl={class:"row"},ed=Ko((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),td={class:"col"},ad=["onClick"],sd=["id"],nd={class:"modal-dialog modal-dialog-centered"},od={class:"modal-content"},ld=Ko((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:""},"Delete question"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),dd={class:"modal-body text-center"},id={class:"text-lowercase"},rd={class:"modal-footer"},cd={class:"row"},ud=Ko((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),pd={class:"col"},vd=["onClick"];var bd={__name:"QuestionView",setup(e){const t=(0,v.tv)(),a=Sa(),{testId:d,questions:i}=(0,l.Jk)(a),{getQuestions:r,createQuestion:c,editQuestion:u,deleteQuestion:p}=a,b=Ua(),{tests:m}=(0,l.Jk)(b),_=m.value.filter((e=>e.id==d.value))[0].test_name,g=Wo(),{questionId:h}=(0,l.Jk)(g),y=(0,o.iH)("");(0,n.bv)((()=>{r()}));const w=(0,o.iH)({testId:(0,o.SU)(d),data:"",type:"single_choice"}),f=()=>{c(w)},k=e=>{h.value=e,t.push("/admin/answers")};return(e,t)=>{const a=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(jt)),(0,n.Wm)((0,o.SU)(ut)),(0,n._)("div",Go,[(0,n._)("h5",Fo,[(0,n.Uk)(" Showing questions for "),(0,n._)("span",Zo,(0,j.zw)((0,o.SU)(_)),1)]),(0,n._)("div",Bo,[(0,n._)("div",el,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",tl,[al,(0,n.Uk)(" add ")])),[[a,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...t)=>e.uploadExcel&&e.uploadExcel(...t))},[sl,(0,n.Uk)(" Upload ")])),[[a,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[1]||(t[1]=(...e)=>(0,o.SU)(r)&&(0,o.SU)(r)(...e))},ol)),[[a,"#0d6efd10"]])]),(0,n._)("div",ll,[(0,n._)("div",dl,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>y.value=e),class:"form-control"},null,512),[[s.nr,y.value]]),il])])]),(0,o.SU)(i).length?((0,n.wg)(),(0,n.iD)("div",bl,[ml,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(i),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",gl,(0,j.zw)(e.data),1),(0,n._)("div",hl,(0,j.zw)(e.type.replace("_"," ")),1),(0,n._)("div",yl,[(0,n._)("button",{class:"btn btn-secondary",onClick:t=>k(e.id)},"Answers",8,wl)]),(0,n._)("div",fl,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editQuestion".concat(e.id)},"Edit",8,kl)]),(0,n._)("div",Ul,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deleteQuestion".concat(e.id)},"Delete",8,Sl)])],8,_l)))),128))])):((0,n.wg)(),(0,n.iD)("div",rl,vl))]),(0,n._)("div",Al,[(0,n._)("div",Cl,[(0,n._)("div",Hl,[ql,(0,n._)("div",xl,[(0,n._)("div",jl,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>w.value.data=e),type:"text",class:"form-control",placeholder:"Data"},null,512),[[s.nr,w.value.data]])]),(0,n._)("div",Dl,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>w.value.type=e),class:"form-select"},Ml,512),[[s.bM,w.value.type]])])]),(0,n._)("div",{class:"modal-footer"},[(0,n._)("div",{class:"row"},[$l,(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",onClick:f,"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(i),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editQuestion".concat(e.id),tabindex:"-1","aria-labelledby":"editQuestionLabel","aria-hidden":"true"},[(0,n._)("div",Jl,[(0,n._)("div",zl,[Vl,(0,n._)("div",Nl,[(0,n._)("div",Pl,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.data=t,type:"text",class:"form-control",placeholder:"Data"},null,8,Ol),[[s.nr,e.data]])]),(0,n._)("div",Ql,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t=>e.type=t,class:"form-select"},Fl,8,Xl),[[s.bM,e.type]])])]),(0,n._)("div",Zl,[(0,n._)("div",Bl,[ed,(0,n._)("div",td,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(u)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,ad)])])])])])],8,Il)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(i),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_delete".concat(e.id),id:"deleteQuestion".concat(e.id),tabindex:"-1","aria-labelledby":"deleteQuestionModalLabel","aria-hidden":"true"},[(0,n._)("div",nd,[(0,n._)("div",od,[ld,(0,n._)("div",dd,[(0,n._)("span",id,(0,j.zw)(e.data),1)]),(0,n._)("div",rd,[(0,n._)("div",cd,[ud,(0,n._)("div",pd,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(p)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,vd)])])])])])],8,sd)))),128))],64)}}};const md=(0,c.Z)(bd,[["__scopeId","data-v-88f1827a"]]);var _d=md;const gd=e=>((0,n.dD)("data-v-160138f6"),e=e(),(0,n.Cn)(),e),hd={class:"container pt-5 mt-5"},yd={class:"text-center p-3"},wd={class:"text-lowercase"},fd={class:"row"},kd={class:"col-2"},Ud={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addAnswerModal"},Sd=gd((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),Ad=gd((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),Cd=[Ad],Hd={class:"col-10"},qd={class:"input-group"},xd=gd((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),jd={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},Dd=gd((()=>(0,n._)("img",{src:da,id:"no_test"},null,-1))),Rd=gd((()=>(0,n._)("br",null,null,-1))),Ld=gd((()=>(0,n._)("h5",null,"No answers available please add a new one",-1))),Td=[Dd,Rd,Ld],Ed={key:1,class:"container mt-3"},Md=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-160138f6><div class="data-heading col text-bold text-light p-2" data-v-160138f6> Data </div><div class="data-heading col text-bold text-light p-2" data-v-160138f6> Is right answer </div><div class="data-heading col" data-v-160138f6></div><div class="data-heading col" data-v-160138f6></div><div class="data-heading col" data-v-160138f6></div></div>',1),$d=["id"],Id={class:"col"},Jd={class:"col"},zd={class:"col"},Vd=["onClick"],Nd={class:"col"},Pd=["id","data-bs-target"],Od={class:"col"},Qd=["id","data-bs-target"],Xd={class:"modal fade",id:"addAnswerModal",tabindex:"-1","aria-labelledby":"addAnswerModalLabel","aria-hidden":"true"},Yd={class:"modal-dialog"},Wd={class:"modal-content"},Kd=gd((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addAnswerModalHeader"},"Add Answer"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Gd={class:"modal-body"},Fd={class:"p-1"},Zd=gd((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Bd=["id"],ei={class:"modal-dialog"},ti={class:"modal-content"},ai=gd((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editAnswerModalheader"},"Edit answer"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),si={class:"modal-body"},ni={class:"p-1"},oi=["onUpdate:modelValue"],li={class:"modal-footer"},di={class:"row"},ii=gd((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),ri={class:"col"},ci=["onClick"],ui=["id"],pi={class:"modal-dialog modal-dialog-centered"},vi={class:"modal-content"},bi=gd((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:""},"Delete answer"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),mi={class:"modal-body text-center"},_i={class:"text-lowercase"},gi={class:"modal-footer"},hi={class:"row"},yi=gd((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),wi={class:"col"},fi=["onClick"];var ki={__name:"AnswerView",setup(e){const t=Wo(),{questionId:a,answers:d}=(0,l.Jk)(t),{getAnswers:i,createAnswer:r,editAnswer:c,deleteAnswer:u,setAsRightAnswer:p}=t,v=Sa(),{questions:b}=(0,l.Jk)(v),m=b.value.filter((e=>e.id==a.value))[0].data,_=(0,o.iH)("");(0,n.bv)((()=>{i()}));const g=(0,o.iH)({questionId:(0,o.SU)(a),data:""}),h=()=>{r(g)};return(e,t)=>{const a=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(jt)),(0,n.Wm)((0,o.SU)(ut)),(0,n._)("div",hd,[(0,n._)("h5",yd,[(0,n.Uk)(" Showing answers for "),(0,n._)("span",wd,(0,j.zw)((0,o.SU)(m)),1)]),(0,n._)("div",fd,[(0,n._)("div",kd,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",Ud,[Sd,(0,n.Uk)(" add ")])),[[a,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(i)&&(0,o.SU)(i)(...e))},Cd)),[[a,"#0d6efd10"]])]),(0,n._)("div",Hd,[(0,n._)("div",qd,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>_.value=e),class:"form-control"},null,512),[[s.nr,_.value]]),xd])])]),(0,o.SU)(d).length?((0,n.wg)(),(0,n.iD)("div",Ed,[Md,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",Id,(0,j.zw)(e.data),1),(0,n._)("div",Jd,(0,j.zw)(1==e.is_right_answer?"yes":"no"),1),(0,n._)("div",zd,[(0,n._)("button",{class:"btn btn-secondary",onClick:t=>(0,o.SU)(p)(e.id)},(0,j.zw)(0==e.is_right_answer?"Set as right answer":"Right answer"),9,Vd)]),(0,n._)("div",Nd,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editAnswer".concat(e.id)},"Edit",8,Pd)]),(0,n._)("div",Od,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deleteAnswer".concat(e.id)},"Delete",8,Qd)])],8,$d)))),128))])):((0,n.wg)(),(0,n.iD)("div",jd,Td))]),(0,n._)("div",Xd,[(0,n._)("div",Yd,[(0,n._)("div",Wd,[Kd,(0,n._)("div",Gd,[(0,n._)("div",Fd,[(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>g.value.data=e),type:"text",class:"form-control",placeholder:"Data"},null,512),[[s.nr,g.value.data]])])]),(0,n._)("div",{class:"modal-footer"},[(0,n._)("div",{class:"row"},[Zd,(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",onClick:h,"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editAnswer".concat(e.id),tabindex:"-1","aria-labelledby":"editAnswerLabel","aria-hidden":"true"},[(0,n._)("div",ei,[(0,n._)("div",ti,[ai,(0,n._)("div",si,[(0,n._)("div",ni,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.data=t,type:"text",class:"form-control",placeholder:"Data"},null,8,oi),[[s.nr,e.data]])])]),(0,n._)("div",li,[(0,n._)("div",di,[ii,(0,n._)("div",ri,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(c)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,ci)])])])])])],8,Bd)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_delete".concat(e.id),id:"deleteAnswer".concat(e.id),tabindex:"-1","aria-labelledby":"deleteAnswerModalLabel","aria-hidden":"true"},[(0,n._)("div",pi,[(0,n._)("div",vi,[bi,(0,n._)("div",mi,[(0,n._)("span",_i,(0,j.zw)(e.data),1)]),(0,n._)("div",gi,[(0,n._)("div",hi,[yi,(0,n._)("div",wi,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(u)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,fi)])])])])])],8,ui)))),128))],64)}}};const Ui=(0,c.Z)(ki,[["__scopeId","data-v-160138f6"]]);var Si=Ui;const Ai=e=>((0,n.dD)("data-v-e2b0e5be"),e=e(),(0,n.Cn)(),e),Ci={class:"container pt-5 mt-5"},Hi={class:"text-center p-3"},qi={class:"text-lowercase"},xi={class:"row"},ji={class:"col-2"},Di={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addPersonaModal"},Ri=Ai((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),Li=Ai((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),Ti=[Li],Ei={class:"col-10"},Mi={class:"input-group"},$i=Ai((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),Ii={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},Ji=Ai((()=>(0,n._)("img",{src:da,id:"no_test"},null,-1))),zi=Ai((()=>(0,n._)("br",null,null,-1))),Vi=Ai((()=>(0,n._)("h5",null,"No personas available please add a new one",-1))),Ni=[Ji,zi,Vi],Pi={key:1,class:"container mt-3"},Oi=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-e2b0e5be><div class="data-heading col text-bold text-light p-2" data-v-e2b0e5be> Data </div><div class="data-heading col text-bold text-light p-2" data-v-e2b0e5be> Field type </div><div class="data-heading col text-bold text-light p-2" data-v-e2b0e5be> Is unique </div><div class="data-heading col text-bold text-light p-2" data-v-e2b0e5be> Is required </div><div class="data-heading col" data-v-e2b0e5be></div><div class="data-heading col" data-v-e2b0e5be></div></div>',1),Qi=["id"],Xi={class:"col"},Yi={class:"col"},Wi={class:"col"},Ki={class:"col"},Gi={class:"col"},Fi=["id","data-bs-target"],Zi={class:"col"},Bi=["id","data-bs-target"],er={class:"modal fade",id:"addPersonaModal",tabindex:"-1","aria-labelledby":"addPersonaModalLabel","aria-hidden":"true"},tr={class:"modal-dialog"},ar={class:"modal-content"},sr=Ai((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addPersonaModalHeader"},"Add Persona"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),nr={class:"modal-body"},or={class:"p-1"},lr={class:"p-1"},dr=Ai((()=>(0,n._)("option",{disabled:""},"--Select field type--",-1))),ir=Ai((()=>(0,n._)("option",{value:"text"},"Text",-1))),rr=Ai((()=>(0,n._)("option",{value:"number"},"Number",-1))),cr=Ai((()=>(0,n._)("option",{value:"email"},"Email",-1))),ur=[dr,ir,rr,cr],pr={class:"p-1"},vr={class:"form-control d-flex justify-content-between"},br={class:"p-1"},mr={class:"form-control d-flex justify-content-between"},_r=Ai((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),gr=["id"],hr={class:"modal-dialog"},yr={class:"modal-content"},wr=Ai((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editPersonaModalheader"},"Edit persona"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),fr={class:"modal-body"},kr={class:"p-1"},Ur=["onUpdate:modelValue"],Sr={class:"p-1"},Ar=["onUpdate:modelValue"],Cr=Ai((()=>(0,n._)("option",{disabled:""},"--Select field type--",-1))),Hr=Ai((()=>(0,n._)("option",{value:"text"},"Text",-1))),qr=Ai((()=>(0,n._)("option",{value:"number"},"Number",-1))),xr=Ai((()=>(0,n._)("option",{value:"email"},"Email",-1))),jr=[Cr,Hr,qr,xr],Dr={class:"p-1"},Rr={class:"form-control d-flex justify-content-between"},Lr=["onUpdate:modelValue"],Tr={class:"p-1"},Er={class:"form-control d-flex justify-content-between"},Mr=["onUpdate:modelValue"],$r={class:"modal-footer"},Ir={class:"row"},Jr=Ai((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),zr={class:"col"},Vr=["onClick"],Nr=["id"],Pr={class:"modal-dialog modal-dialog-centered"},Or={class:"modal-content"},Qr=Ai((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:""},"Delete persona"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Xr={class:"modal-body text-center"},Yr={class:"text-lowercase"},Wr={class:"modal-footer"},Kr={class:"row"},Gr=Ai((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Fr={class:"col"},Zr=["onClick"];var Br={__name:"PersonaView",setup(e){const t=Aa(),{testId:a,personas:d}=(0,l.Jk)(t),{getPersonas:i,createPersona:r,editPersona:c,deletePersona:u}=t,p=Ua(),{tests:v}=(0,l.Jk)(p),b=v.value.filter((e=>e.id==a.value))[0].test_name,m=(0,o.iH)({testId:(0,o.SU)(a),personaData:"",personaFieldType:"text",isRequired:"false",isUnique:"false"}),_=()=>{r((0,o.SU)(m))};(0,n.bv)((()=>{i()}));const g=(0,o.iH)("");return(e,t)=>{const a=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(jt)),(0,n.Wm)((0,o.SU)(ut)),(0,n._)("div",Ci,[(0,n._)("h5",Hi,[(0,n.Uk)(" Showing persona data for "),(0,n._)("span",qi,(0,j.zw)((0,o.SU)(b)),1)]),(0,n._)("div",xi,[(0,n._)("div",ji,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",Di,[Ri,(0,n.Uk)(" add ")])),[[a,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(i)&&(0,o.SU)(i)(...e))},Ti)),[[a,"#0d6efd10"]])]),(0,n._)("div",Ei,[(0,n._)("div",Mi,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>g.value=e),class:"form-control"},null,512),[[s.nr,g.value]]),$i])])]),(0,o.SU)(d).length?((0,n.wg)(),(0,n.iD)("div",Pi,[Oi,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",Xi,(0,j.zw)(e.persona_data),1),(0,n._)("div",Yi,(0,j.zw)(e.persona_field_type),1),(0,n._)("div",Wi,[(0,n._)("span",{class:(0,j.C_)(["false"==e.is_unique?"text-danger":"text-dark"])},(0,j.zw)(0==e.is_unique),3)]),(0,n._)("div",Ki,[(0,n._)("span",{class:(0,j.C_)(["false"==e.is_required?"text-danger":"text-dark"])},(0,j.zw)(e.is_required),3)]),(0,n._)("div",Gi,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editPersona".concat(e.id)},"Edit",8,Fi)]),(0,n._)("div",Zi,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deletePersona".concat(e.id)},"Delete",8,Bi)])],8,Qi)))),128))])):((0,n.wg)(),(0,n.iD)("div",Ii,Ni))]),(0,n._)("div",er,[(0,n._)("div",tr,[(0,n._)("div",ar,[sr,(0,n._)("div",nr,[(0,n._)("div",or,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>m.value.personaData=e),type:"text",class:"form-control",placeholder:"Data"},null,512),[[s.nr,m.value.personaData]])]),(0,n._)("div",lr,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>m.value.personaFieldType=e),type:"text",class:"form-select"},ur,512),[[s.bM,m.value.personaFieldType]])]),(0,n._)("div",pr,[(0,n._)("label",vr,[(0,n.Uk)(" The data is unique "),(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>m.value.isUnique=e)},null,512),[[s.e8,m.value.isUnique]])])]),(0,n._)("div",br,[(0,n._)("label",mr,[(0,n.Uk)(" The data is required "),(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>m.value.isRequired=e)},null,512),[[s.e8,m.value.isRequired]])])])]),(0,n._)("div",{class:"modal-footer"},[(0,n._)("div",{class:"row"},[_r,(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",onClick:_,"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editPersona".concat(e.id),tabindex:"-1","aria-labelledby":"editPersonaLabel","aria-hidden":"true"},[(0,n._)("div",hr,[(0,n._)("div",yr,[wr,(0,n._)("div",fr,[(0,n._)("div",kr,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.persona_data=t,type:"text",class:"form-control",placeholder:"Data"},null,8,Ur),[[s.nr,e.persona_data]])]),(0,n._)("div",Sr,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t=>e.persona_field_type=t,type:"text",class:"form-select"},jr,8,Ar),[[s.bM,e.persona_field_type]])]),(0,n._)("div",Dr,[(0,n._)("label",Rr,[(0,n.Uk)(" The data is unique "),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.is_unique=t,type:"checkbox"},null,8,Lr),[[s.e8,e.is_unique]])])]),(0,n._)("div",Tr,[(0,n._)("label",Er,[(0,n.Uk)(" The data is required "),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.is_required=t,type:"checkbox"},null,8,Mr),[[s.e8,e.is_required]])])])]),(0,n._)("div",$r,[(0,n._)("div",Ir,[Jr,(0,n._)("div",zr,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(c)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,Vr)])])])])])],8,gr)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_delete".concat(e.id),id:"deletePersona".concat(e.id),tabindex:"-1","aria-labelledby":"deletePersonaModalLabel","aria-hidden":"true"},[(0,n._)("div",Pr,[(0,n._)("div",Or,[Qr,(0,n._)("div",Xr,[(0,n._)("span",Yr,(0,j.zw)(e.persona_data),1)]),(0,n._)("div",Wr,[(0,n._)("div",Kr,[Gr,(0,n._)("div",Fr,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(u)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,Zr)])])])])])],8,Nr)))),128))],64)}}};const ec=(0,c.Z)(Br,[["__scopeId","data-v-e2b0e5be"]]);var tc=ec;const ac=e=>((0,n.dD)("data-v-6d9d8aa8"),e=e(),(0,n.Cn)(),e),sc={class:"container pt-5 mt-5"},nc={class:"text-center"},oc={class:"text-lowercase"},lc={class:"row"},dc={class:"col-2"},ic={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addUserModal"},rc=ac((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),cc=ac((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),uc=[cc],pc={class:"col-10"},vc={class:"input-group"},bc=ac((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),mc={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},_c=ac((()=>(0,n._)("img",{src:da,id:"no_test"},null,-1))),gc=ac((()=>(0,n._)("br",null,null,-1))),hc=ac((()=>(0,n._)("h5",null,"No user available please add a new one",-1))),yc=[_c,gc,hc],wc={key:1,class:"container mt-3"},fc=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-6d9d8aa8><div class="data-heading col-3 text-bold text-light p-2" data-v-6d9d8aa8> Email </div><div class="data-heading col-3 text-bold text-light p-2" data-v-6d9d8aa8> Phone number </div><div class="data-heading col-2" data-v-6d9d8aa8></div><div class="data-heading col-2" data-v-6d9d8aa8></div></div>',1),kc=["id"],Uc={class:"col-3"},Sc={class:"col-3"},Ac={class:"col-2"},Cc=["id","data-bs-target"],Hc={class:"col-2"},qc=["id","data-bs-target"],xc={class:"modal fade",id:"addUserModal",tabindex:"-1","aria-labelledby":"addUserModalLabel","aria-hidden":"true"},jc={class:"modal-dialog"},Dc={class:"modal-content"},Rc=ac((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addUserModalHeader"},"Add User"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Lc={class:"modal-body"},Tc={class:"p-1"},Ec=ac((()=>(0,n._)("br",null,null,-1))),Mc=ac((()=>(0,n._)("br",null,null,-1))),$c=ac((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Ic=["id"],Jc={class:"modal-dialog"},zc={class:"modal-content"},Vc=ac((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editUserModalHeader"},"Edit User"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Nc={class:"modal-body"},Pc={class:"p-1"},Oc=["onUpdate:modelValue"],Qc=ac((()=>(0,n._)("br",null,null,-1))),Xc=["onUpdate:modelValue"],Yc=ac((()=>(0,n._)("br",null,null,-1))),Wc=["onUpdate:modelValue"],Kc={class:"modal-footer"},Gc={class:"row"},Fc=ac((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Zc={class:"col"},Bc=["onClick"],eu=["id"],tu={class:"modal-dialog modal-dialog-centered"},au={class:"modal-content"},su=ac((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:""},"Delete User"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),nu={class:"modal-body text-center"},ou={class:"text-lowercase"},lu=ac((()=>(0,n._)("br",null,null,-1))),du={class:"text-lowercase"},iu={class:"modal-footer"},ru={class:"row"},cu=ac((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),uu={class:"col"},pu=["onClick"];var vu={__name:"UserView",setup(e){const t=$n(),{users:a,currentInstitutionId:d}=(0,l.Jk)(t),{getUsers:i,addUser:r,editUser:c,deleteUser:u}=t,p=Mn(),{institutions:v}=(0,l.Jk)(p),b=v.value.filter((e=>e.id==d.value))[0],m=(0,o.iH)(""),_=(0,o.iH)({institutionId:d.value,email:"",phoneNumber:"",password:"",role:"admin"});(0,n.bv)((()=>{i()}));const g=()=>{r(_)};return(e,t)=>{const l=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(jt)),(0,n.Wm)((0,o.SU)(ut)),(0,n._)("div",sc,[(0,n._)("h4",nc,[(0,n.Uk)("Showing users for "),(0,n._)("span",oc,(0,j.zw)((0,o.SU)(b).institution_name),1)]),(0,n._)("div",lc,[(0,n._)("div",dc,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",ic,[rc,(0,n.Uk)(" add ")])),[[l,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(i)&&(0,o.SU)(i)(...e))},uc)),[[l,"#0d6efd10"]])]),(0,n._)("div",pc,[(0,n._)("div",vc,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),class:"form-control"},null,512),[[s.nr,m.value]]),bc])])]),(0,o.SU)(a).length?((0,n.wg)(),(0,n.iD)("div",wc,[(0,n.Uk)((0,j.zw)(JSON.stringify(e.user))+" ",1),fc,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",Uc,(0,j.zw)(e.email),1),(0,n._)("div",Sc,(0,j.zw)(e.phone_number),1),(0,n._)("div",Ac,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editUser".concat(e.id)},"Edit",8,Cc)]),(0,n._)("div",Hc,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deleteUser".concat(e.id)},"Delete",8,qc)])],8,kc)))),128))])):((0,n.wg)(),(0,n.iD)("div",mc,yc))]),(0,n._)("div",xc,[(0,n._)("div",jc,[(0,n._)("div",Dc,[Rc,(0,n._)("div",Lc,[(0,n._)("div",Tc,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>_.value.email=e),type:"text",class:"form-control",placeholder:"Email"},null,512),[[s.nr,_.value.email]]),Ec,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>_.value.phoneNumber=e),type:"text",class:"form-control",placeholder:"Phone number"},null,512),[[s.nr,_.value.phoneNumber]]),Mc,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>_.value.password=e),type:"text",class:"form-control",placeholder:"Password"},null,512),[[s.nr,_.value.password]])])]),(0,n._)("div",{class:"modal-footer"},[(0,n._)("div",{class:"row"},[$c,(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",onClick:g,"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editUser".concat(e.id),tabindex:"-1","aria-labelledby":"editUserModal","aria-hidden":"true"},[(0,n._)("div",Jc,[(0,n._)("div",zc,[Vc,(0,n._)("div",Nc,[(0,n._)("div",Pc,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.email=t,type:"text",class:"form-control",placeholder:"Data"},null,8,Oc),[[s.nr,e.email]]),Qc,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.phone_number=t,type:"text",class:"form-control",placeholder:"Phone number"},null,8,Xc),[[s.nr,e.phone_number]]),Yc,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.password=t,type:"text",class:"form-control",placeholder:"Password"},null,8,Wc),[[s.nr,e.password]])])]),(0,n._)("div",Kc,[(0,n._)("div",Gc,[Fc,(0,n._)("div",Zc,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(c)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,Bc)])])])])])],8,Ic)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"deleteUser".concat(e.id),tabindex:"-1","aria-labelledby":"deleteUserLabel","aria-hidden":"true"},[(0,n._)("div",tu,[(0,n._)("div",au,[su,(0,n._)("div",nu,[(0,n._)("span",ou,(0,j.zw)(e.email),1),lu,(0,n._)("span",du,(0,j.zw)(e.phone_number),1)]),(0,n._)("div",iu,[(0,n._)("div",ru,[cu,(0,n._)("div",uu,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(u)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,pu)])])])])])],8,eu)))),128))],64)}}};const bu=(0,c.Z)(vu,[["__scopeId","data-v-6d9d8aa8"]]);var mu=bu;const _u=e=>((0,n.dD)("data-v-ab33f70e"),e=e(),(0,n.Cn)(),e),gu={class:"container pt-5 mt-5"},hu=_u((()=>(0,n._)("h5",{class:"text-center p-3"}," Showing certificates ",-1))),yu={class:"row"},wu={class:"col-2"},fu={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addCertificateModal"},ku=_u((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),Uu=_u((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),Su=[Uu],Au={class:"col-10"},Cu={class:"input-group"},Hu=_u((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),qu={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},xu=_u((()=>(0,n._)("img",{src:da,id:"no_test"},null,-1))),ju=_u((()=>(0,n._)("br",null,null,-1))),Du=_u((()=>(0,n._)("h5",null,"No certificates available please add a new one",-1))),Ru=[xu,ju,Du],Lu={key:1,class:"container mt-3"},Tu=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-ab33f70e><div class="data-heading col text-bold text-light p-2" data-v-ab33f70e> Certificate name </div><div class="data-heading col text-bold text-light p-2" data-v-ab33f70e> Cutoff </div><div class="data-heading col" data-v-ab33f70e></div><div class="data-heading col" data-v-ab33f70e></div><div class="data-heading col" data-v-ab33f70e></div><div class="data-heading col" data-v-ab33f70e></div></div>',1),Eu=["id"],Mu={class:"col"},$u={class:"col"},Iu={class:"col"},Ju=["href"],zu={class:"col"},Vu=["id","onClick"],Nu={class:"col"},Pu=["id","data-bs-target"],Ou={class:"col"},Qu=["id","data-bs-target"],Xu={class:"modal fade",id:"addCertificateModal",tabindex:"-1","aria-labelledby":"addAnswerModalLabel","aria-hidden":"true"},Yu={class:"modal-dialog"},Wu={class:"modal-content"},Ku=_u((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addCertificateHeader"},"Add certificate"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Gu={class:"modal-body"},Fu={class:"p-1"},Zu=_u((()=>(0,n._)("br",null,null,-1))),Bu=_u((()=>(0,n._)("br",null,null,-1))),ep={class:"modal-footer"},tp={class:"row"},ap=_u((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),sp={class:"col"},np=["id"],op={class:"modal-dialog"},lp={class:"modal-content"},dp=_u((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editCertificateHeader"},"Edit certificate"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ip={class:"modal-body"},rp={class:"p-1"},cp=["onUpdate:modelValue"],up=_u((()=>(0,n._)("br",null,null,-1))),pp=["onUpdate:modelValue"],vp=_u((()=>(0,n._)("br",null,null,-1))),bp=["onUpdate:modelValue"],mp={class:"modal-footer"},_p={class:"row"},gp=_u((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),hp={class:"col"},yp=["onClick"],wp=["id"],fp={class:"modal-dialog modal-dialog-centered"},kp={class:"modal-content"},Up=_u((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:""},"Delete certificate"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Sp={class:"modal-body text-center"},Ap={class:"text-lowercase"},Cp={class:"modal-footer"},Hp={class:"row"},qp=_u((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),xp={class:"col"},jp=["onClick"];var Dp={__name:"CertificateView",setup(e){const t=qa(),{certificates:a}=(0,l.Jk)(t),{getCertificates:d,editCertificate:i,deleteCertificate:r,generateList:c}=t,u=(0,o.iH)("");(0,n.bv)((()=>{d()}));const p=(0,o.iH)({name:null,cutoff:null,html:""});return(e,t)=>{const l=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(jt)),(0,n.Wm)((0,o.SU)(ut)),(0,n._)("div",gu,[hu,(0,n._)("div",yu,[(0,n._)("div",wu,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",fu,[ku,(0,n.Uk)(" add ")])),[[l,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...t)=>e.getAnswers&&e.getAnswers(...t))},Su)),[[l,"#0d6efd10"]])]),(0,n._)("div",Au,[(0,n._)("div",Cu,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),class:"form-control"},null,512),[[s.nr,u.value]]),Hu])])]),(0,o.SU)(a).length?((0,n.wg)(),(0,n.iD)("div",Lu,[Tu,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",Mu,(0,j.zw)(e.certificate_name),1),(0,n._)("div",$u,(0,j.zw)(e.cutoff_mark),1),(0,n._)("div",Iu,[(0,n._)("a",{target:"_blank",class:"btn btn-info",href:"http://localhost:9000/certificate/?cerid=".concat(e.id).concat("&cid=0")},"Preview",8,Ju)]),(0,n._)("div",zu,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,onClick:t=>(0,o.SU)(c)(e.id)},"Generate list",8,Vu)]),(0,n._)("div",Nu,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editCertificate".concat(e.id)},"Edit",8,Pu)]),(0,n._)("div",Ou,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deleteCertificate".concat(e.id)},"Delete",8,Qu)])],8,Eu)))),128))])):((0,n.wg)(),(0,n.iD)("div",qu,Ru))]),(0,n._)("div",Xu,[(0,n._)("div",Yu,[(0,n._)("div",Wu,[Ku,(0,n._)("div",Gu,[(0,n._)("div",Fu,[(0,n.wy)((0,n._)("input",{type:"text",name:"",placeholder:"Name of certificate","onUpdate:modelValue":t[2]||(t[2]=e=>p.value.name=e),class:"form-control"},null,512),[[s.nr,p.value.name]]),Zu,(0,n.wy)((0,n._)("input",{type:"number",name:"",placeholder:"Cutoff mark","onUpdate:modelValue":t[3]||(t[3]=e=>p.value.cutoffMark=e),class:"form-control"},null,512),[[s.nr,p.value.cutoffMark]]),Bu,(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>p.value.html=e),type:"text",class:"form-control",placeholder:"HTML data"},null,512),[[s.nr,p.value.html]])])]),(0,n._)("div",ep,[(0,n._)("div",tp,[ap,(0,n._)("div",sp,[(0,n._)("button",{type:"button",onClick:t[5]||(t[5]=(...t)=>e.addAnswerBtnClick&&e.addAnswerBtnClick(...t)),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editCertificate".concat(e.id),tabindex:"-1","aria-labelledby":"editCertificate","aria-hidden":"true"},[(0,n._)("div",op,[(0,n._)("div",lp,[dp,(0,n._)("div",ip,[(0,n._)("div",rp,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.certificate_name=t,type:"text",class:"form-control",placeholder:"Name"},null,8,cp),[[s.nr,e.certificate_name]]),up,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.cutoff_mark=t,type:"number",class:"form-control",placeholder:"Cutoff mark"},null,8,pp),[[s.nr,e.cutoff_mark]]),vp,(0,n.wy)((0,n._)("textarea",{class:"form-control","onUpdate:modelValue":t=>e.html=t,placeholder:"html"},null,8,bp),[[s.nr,e.html]])])]),(0,n._)("div",mp,[(0,n._)("div",_p,[gp,(0,n._)("div",hp,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(i)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,yp)])])])])])],8,np)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_delete".concat(e.id),id:"deleteCertificate".concat(e.id),tabindex:"-1","aria-labelledby":"deleteCertificateLabel","aria-hidden":"true"},[(0,n._)("div",fp,[(0,n._)("div",kp,[Up,(0,n._)("div",Sp,[(0,n._)("span",Ap,(0,j.zw)(e.certificate_name),1)]),(0,n._)("div",Cp,[(0,n._)("div",Hp,[qp,(0,n._)("div",xp,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(r)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,jp)])])])])])],8,wp)))),128))],64)}}};const Rp=(0,c.Z)(Dp,[["__scopeId","data-v-ab33f70e"]]);var Lp=Rp,Tp={CandidateIndex:x,CandidateTestView:pe,CandidateFormView:Ce,EndTestView:Te,AdminIndex:st,DashboardView:la,ResultView:ka,TestView:En,SetupView:Oo,AdminView:Yo,QuestionView:_d,AnswerView:Si,PersonaView:tc,UserView:mu,CertificateView:Lp},Ep=[{name:"Cebety",path:"/",component:Tp.CandidateIndex,meta:{isAdminRoute:!1,requiresAuth:!1}},{name:"Candidate Test",path:"/test",component:Tp.CandidateTestView,meta:{isAdminRoute:!1,requiresAuth:!0}},{name:"Candidate form",path:"/form",component:Tp.CandidateFormView,meta:{isAdminRoute:!1,requiresAuth:!0}},{name:"End Test",path:"/end_test",component:Tp.EndTestView,meta:{isAdminRoute:!1,requiresAuth:!0}},{name:"Login",path:"/admin",component:Tp.AdminIndex,meta:{isAdminRoute:!0,requiresAuth:!1,showInMenu:!1}},{name:"Dashboard",path:"/admin/dashboard",component:Tp.DashboardView,meta:{isAdminRoute:!0,requiresAuth:!0,showInMenu:!0,showInMenuName:"Dashboard",showInMenuIcon:"fa fa-dashboard"}},{name:"Result",path:"/admin/result",component:Tp.ResultView,meta:{isAdminRoute:!0,requiresAuth:!0,showInMenu:!0,showInMenuName:"Dashboard",showInMenuIcon:"fa fa-excel"}},{name:"Setup",path:"/admin/setup",component:Tp.SetupView,meta:{isAdminRoute:!0,isGlobalAdminRoute:!0,requiresAuth:!0,showInMenu:!0,showInMenuName:"Setup",showInMenuIcon:"fa fa-wrench"}},{name:"Certificate",path:"/admin/certificate",component:Tp.CertificateView,meta:{isAdminRoute:!0,requiresAuth:!0,showInMenu:!1,showInMenuName:"Certificate",showInMenuIcon:"fa fa-certificate"}},{name:"Users",path:"/admin/users",component:Tp.UserView,meta:{isAdminRoute:!0,isGlobalAdminRoute:!0,requiresAuth:!0,showInMenu:!0,showInMenuName:"Setup",showInMenuIcon:"fa fa-users"}},{name:"Test",path:"/admin/test",component:Tp.TestView,meta:{isAdminRoute:!0,requiresAuth:!0,showInMenu:!0,showInMenuName:"Test",showInMenuIcon:"fa fa-graduation-cap"}},{name:"Questions",path:"/admin/questions",component:Tp.QuestionView,meta:{isAdminRoute:!0,requiresAuth:!0}},{name:"Answers",path:"/admin/answers",component:Tp.AnswerView,meta:{isAdminRoute:!0,requiresAuth:!0}},{name:"Persona data",path:"/admin/persona",component:Tp.PersonaView,meta:{isAdminRoute:!0,requiresAuth:!0}}];const Mp=(0,v.p7)({history:(0,v.r5)("/"),routes:Ep});var $p=Mp;const Ip=(0,l.Q_)("admin",(()=>{const e=(0,o.Xl)($p),t=d(),{backend:a}=(0,l.Jk)(t),{toggleProcessLoader:s,appAlert:n}=t,i=(0,o.iH)(""),r=(0,o.iH)(""),c=(0,o.iH)(""),u=(0,o.iH)(""),p=(0,o.iH)(""),v=(0,o.iH)(""),b=(0,o.iH)(""),m=()=>{const t=JSON.stringify({phoneNumber:c.value,password:u.value});s();const o=new XMLHttpRequest;o.addEventListener("load",(()=>{s();const t=o.response;try{const a=JSON.parse(t);1==a.status?(i.value=a.id,r.value=a.email,b.value=a.token,p.value=a.institutionId,v.value=a.role,"admin"==v.value?e.push("/admin/dashboard"):e.push("/admin/setup")):n("An error just occured, please try again in a few seconds")}catch(a){n("An error just occured, please try again in a few seconds")}})),o.open("POST",`${a.value}/api/auth/signin`),o.setRequestHeader("Content-Type","application/json"),o.send(t)};return{id:i,email:r,phoneNumber:c,password:u,institutionId:p,role:v,token:b,login:m}}));var Jp={__name:"App",setup(e){const t=(0,v.tv)();return(0,n.m0)((()=>{const e=m(),a=Ip(),s=e.token,n=a.token,o=t.currentRoute.value;o.meta.isAdminRoute&&o.requiresAuth&&""==n?t.push("/admin"):o.meta.requiresAuth&&""==s&&t.push("/")})),(e,t)=>{const a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(p)),(0,n.Wm)(a)],64)}}};const zp=Jp;var Vp=zp,Np=a(5431);(0,Np.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Pp=a(68),Op=a(5146),Qp=a(6905),Xp=a.n(Qp);a(2166);const Yp=(0,l.WB)();Yp.use((0,Op.z)());const Wp=(0,s.ri)(Vp);Wp.use(Yp),Wp.use($p),Wp.directive("ripple",Pp.Z),Wp.mount("#app"),Wp.mixin({mounted(){Xp().init()}})}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,s,n,o){if(!s){var l=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],o=e[c][2];for(var d=!0,i=0;i<s.length;i++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(d=!1,o<l&&(l=o));if(d){e.splice(c--,1);var r=n();void 0!==r&&(t=r)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,l=s[0],d=s[1],i=s[2],r=0;if(l.some((function(t){return 0!==e[t]}))){for(n in d)a.o(d,n)&&(a.m[n]=d[n]);if(i)var c=i(a)}for(t&&t(s);r<l.length;r++)o=l[r],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},s=self["webpackChunkCebety"]=self["webpackChunkCebety"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(9513)}));s=a.O(s)})();
//# sourceMappingURL=app.6d902f88.js.map