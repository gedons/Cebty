(function(){"use strict";var e={6153:function(e,t,a){var s=a(9242),n=(a(7658),a(3396)),o=a(4870),l=a(2578);const d=(0,l.Q_)("app",(()=>{const e=(0,o.iH)("http://localhost:9000"),t=(0,o.iH)(!1),a=(0,o.iH)(!1),s=(0,o.iH)([{name:"Dashboard",icon:"fa fa-tachometer-alt",path:"/admin/dashboard",meta:{isGlobalAdminRoute:!1}},{name:"Test",icon:"fa fa-graduation-cap",path:"/admin/test",meta:{isGlobalAdminRoute:!1}},{name:"Setup",icon:"fas fa-cog",path:"/admin/setup",meta:{isGlobalAdminRoute:!0}}]),n=()=>{a.value=!a.value},l=e=>{e.message?alert(e.message):alert(e)},d=()=>{t.value=!t.value};return{backend:e,processLoading:t,toggleProcessLoader:d,menuState:a,toggleMenu:n,appAlert:l,menuRoutes:s}}),{persistedState:{persist:!1}}),i={key:0,class:"position-fixed text-light"};var r={__name:"ProcessLoader",setup(e){const t=d(),{processLoading:a}=(0,l.Jk)(t);return(e,t)=>(0,o.SU)(a)?((0,n.wg)(),(0,n.iD)("div",i," loading... ")):(0,n.kq)("",!0)}},c=a(89);const u=(0,c.Z)(r,[["__scopeId","data-v-101df9a4"]]);var p=u,v=a(2483),b=a.p+"img/lab.d910961e.jpg";const m=(0,l.Q_)("candidate",(()=>{const e=(0,o.Xl)(vu),t=d(),{backend:a}=(0,l.Jk)(t),{toggleProcessLoader:s,appAlert:i}=t,r=(0,o.iH)(""),c=(0,o.iH)({}),u=(0,o.iH)(!1),p=(0,o.iH)([]),v=(0,o.iH)({}),b=(0,o.iH)([]),m=(0,o.iH)([]),_=(0,o.iH)(null),g=(0,o.iH)(!1);(()=>{if(null==_.value){s();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{s();const t=e.response;try{const e=JSON.parse(t);1==e.status&&(_.value=e.token)}catch(a){s(),console.log(a)}})),e.open("POST",`${a.value}/api/auth/candidate_token`),e.send()}})();const h=()=>{const e=[...b.value];if(1==c.value.randomize_questions){for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}return b.value=e}return b.value=e};function y(e){this.question=e,this.question.answered=!1,this.answers=m.value.filter((t=>t.question_id==e.id))}const w=(0,o.iH)(null),f=(0,o.iH)(0),S=(0,n.Fl)((()=>w.value[f.value])),U=()=>{0==f.value?f.value=0:f.value--},k=()=>{f.value==w.value.length-1?f.value=w.value.length-1:f.value++},A=e=>{f.value=e},q=()=>new Promise((e=>{const t=w.value;let a=0;const s=c.value.total_mark,n=s/t.length;t.forEach((e=>{if("single_choice"==e.question.type){const{answers:s}=e;for(var t=0;t<s.length;t++)if(s[t].selected&&s[t].is_right_answer){a+=n;break}}})),e(a)})),H=()=>new Promise(((e,t)=>{const s=JSON.stringify({testId:c.value.id,candidatePersona:p.value,details:v.value}),n=new XMLHttpRequest;n.addEventListener("load",(()=>{const a=n.response;try{const t=JSON.parse(a),{insertId:s}=t.data;e(s)}catch(s){t(s)}})),n.open("POST",`${a.value}/api/candidate`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${_.value}`),n.send(s)})),x=(e,t,s)=>new Promise(((n,o)=>{const l=JSON.stringify({testId:e,candidateId:t,score:s}),d=new XMLHttpRequest;d.addEventListener("load",(()=>{const e=d.response;try{const t=JSON.parse(e),{body:a}=t.body;n(a)}catch(t){o(t)}})),d.open("POST",`${a.value}/api/candidate/score`),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Authorization",`bearer ${_.value}`),d.send(l)})),C=()=>{_.value},j=async()=>{try{s();const t=await H(),a=await q(),n=await x(c.value.id,t,a);console.log(n),C(),e.push("/"),g.value=!0,s()}catch(t){console.log(t)}},D=()=>{let t=0;try{t=r.value.split("/")}catch(p){return void i("Invalid test code")}const n=t[0],o=t[1],l=t[2];s();const d=new XMLHttpRequest;d.addEventListener("load",(()=>{s();const t=d.response;try{const a=JSON.parse(t);1==a.status?(u.value=!0,c.value=a.body[0],e.push("/form")):(i("An error just occured, please try again in a few seconds"),u.value=!1,c.value=null)}catch(p){i("An error just occured, please try again in a few seconds"),u.value=!1,c.value=null}})),d.open("GET",`${a.value}/api/test/validate?testId=${o}&testName=${n}&institutionId=${l}`),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Authorization",`bearer ${_.value}`),d.send()},R=()=>{s();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{s();const t=e.response;try{const e=JSON.parse(t);1==e.status?p.value=e.data:i("An error just occured, please try again in a few seconds")}catch(a){i("An error just occured, please try again in a few seconds")}})),e.open("GET",`${a.value}/api/persona_data/${c.value.id}`),e.setRequestHeader("Authorization",`bearer ${_.value}`),e.send()},T=()=>(f.value=0,0==g.value&&null!=w.value?void 0:1==g.value&&null!=w.value?new Promise(((e,t)=>{s();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{const o=n.response;try{const n=JSON.parse(o);if(1==n.status){b.value=n.questions;const o=new XMLHttpRequest;o.addEventListener("load",(()=>{s();const a=o.response;try{const s=JSON.parse(a);if(1==s.status){const t=s.answers.map((e=>({...e,selected:!1})));m.value=t,w.value=h().map((e=>new y(e))),console.log(w.value),e(!0)}else i("An error just occured, please try again in a few seconds"),t(!1)}catch(n){i("An error just occured, please try again in a few seconds"),t(!1)}})),o.open("GET",`${a.value}/api/answer/test/${c.value.id}`),o.setRequestHeader("Authorization",`bearer ${_.value}`),o.send()}else i("An error just occured, please try again in a few seconds"),t(!1)}catch(l){i("An error just occured, please try again in a few seconds"),t(!1)}})),n.open("GET",`${a.value}/api/question/${c.value.id}`),n.setRequestHeader("Authorization",`bearer ${_.value}`),n.send()})):new Promise(((e,t)=>{s();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{const o=n.response;try{const n=JSON.parse(o);if(1==n.status){b.value=n.questions;const o=new XMLHttpRequest;o.addEventListener("load",(()=>{s();const a=o.response;try{const s=JSON.parse(a);if(1==s.status){const t=s.answers.map((e=>({...e,selected:!1})));m.value=t,w.value=h().map((e=>new y(e))),console.log(w.value),e(!0)}else i("An error just occured, please try again in a few seconds"),t(!1)}catch(n){i("An error just occured, please try again in a few seconds"),t(!1)}})),o.open("GET",`${a.value}/api/answer/test/${c.value.id}`),o.setRequestHeader("Authorization",`bearer ${_.value}`),o.send()}else i("An error just occured, please try again in a few seconds"),t(!1)}catch(l){i("An error just occured, please try again in a few seconds"),t(!1)}})),n.open("GET",`${a.value}/api/question/${c.value.id}`),n.setRequestHeader("Authorization",`bearer ${_.value}`),n.send()}))),L=e=>{const t=e.split("_")[1],a=m.value.filter((e=>e.id==t))[0].question_id;for(var s=0;s<w.value.length;s++)if(w.value[s].question.id==a){for(var n=0;n<w.value[s].answers.length;n++)w.value[s].answers[n].id==t?w.value[s].answers[n].selected=!0:w.value[s].answers[n].selected=!1;w.value[s].question.answered=!0;break}};return{testCode:r,isValidated:u,validateTestCode:D,testCredentials:c,getPersonaData:R,candidatePersona:p,details:v,getQuestionsAndAnswers:T,currentQuestion:S,candidateSheet:w,questions:b,answers:m,previousQuestion:U,nextQuestion:k,cursor:f,updateSingleChoiceAnswerStatus:L,changeQuestion:A,handleSubmit:j,token:_}})),_=e=>((0,n.dD)("data-v-ead10ca4"),e=e(),(0,n.Cn)(),e),g={class:"container-fluid"},h={class:"row align-items-center",style:{height:"100vh"}},y=_((()=>(0,n._)("div",{class:"container p-3 col-lg-6 col-md-6 d-lg-block d-md-block d-none bg-cebety-light text-center height-100"},[(0,n._)("img",{src:b,class:"img img-fluid rounded-4"})],-1))),w={class:"col-lg-6 col-md-6 col sm-12 col-xs-12 bg-cebety-dark text-center height-100"},f={class:"container p-3"},S=_((()=>(0,n._)("h1",null,"Instruction 1",-1))),U=_((()=>(0,n._)("p",null,"Once the test starts you will enter full screen mode, please donot leave fullscreen or you will auto submit once you do.",-1))),k=_((()=>(0,n._)("h3",{class:"text-cebety-light"},"Enter test code",-1))),A={class:"form"},q=_((()=>(0,n._)("br",null,null,-1)));var H={__name:"CandidateIndex",setup(e){const t=m(),{testCode:a}=(0,l.Jk)(t),{validateTestCode:d}=t;return(e,t)=>((0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("div",h,[y,(0,n._)("div",w,[(0,n._)("div",f,[S,U,k,(0,n._)("div",A,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.dq)(a)?a.value=e:null),class:"form-control"},null,512),[[s.nr,(0,o.SU)(a)]]),q,(0,n._)("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>(0,o.SU)(d)&&(0,o.SU)(d)(...e))},"Continue")])])])])]))}};const x=(0,c.Z)(H,[["__scopeId","data-v-ead10ca4"]]);var C=x,j=a(7139);const D=e=>((0,n.dD)("data-v-6334bedb"),e=e(),(0,n.Cn)(),e),R={class:"container-fluid"},T={class:"row p-2"},L={class:"col-2"},E={class:"col"},M=(0,n.uE)('<div class="col-2" data-v-6334bedb><button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#answered_questions" data-v-6334bedb><i class="fa fa-question" data-v-6334bedb></i>  <span class="hiddable-on-small" data-v-6334bedb>Questions</span></button></div><div class="col-2" data-v-6334bedb><button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#submit_modal" data-v-6334bedb><i class="fa fa-upload" data-v-6334bedb></i>  <span class="hiddable-on-small" data-v-6334bedb>Submit</span></button></div>',2),I={class:"row"},$={class:"col-lg-6 col-sm-12 question p-4"},z={class:"col-lg-6 col-sm-12 answers p-2"},J={key:0},V=["id"],N={key:1},P={class:"row text-center p-2 position-fixed bottom-0 w-100"},O={class:"col"},Q=D((()=>(0,n._)("i",{class:"fa fa-chevron-left"},null,-1))),X=D((()=>(0,n._)("span",{class:"hiddable-on-small"},"Previous question",-1))),Y={class:"col-8"},W={class:"col"},K=D((()=>(0,n._)("span",{class:"hiddable-on-small"},"Next question",-1))),G=D((()=>(0,n._)("i",{class:"fa fa-chevron-right"},null,-1))),F={class:"modal",id:"answered_questions"},Z={class:"modal-dialog modal-dialog-centered"},B={class:"modal-content"},ee=D((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",null,"Answered questions"),(0,n._)("button",{class:"btn-close","data-bs-dismiss":"modal"})],-1))),te={class:"modal-body"},ae=["onClick"],se=D((()=>(0,n._)("div",{class:"modal-footer"},[(0,n._)("button",{class:"btn btn-primary","data-bs-dismiss":"modal"},"Close")],-1))),ne={class:"modal",id:"submit_modal"},oe={class:"modal-dialog modal-dialog-centered"},le={class:"modal-content"},de=D((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",null,"Are you sure you want to submit?"),(0,n._)("button",{class:"btn-close","data-bs-dismiss":"modal"})],-1))),ie={class:"modal-footer"},re=D((()=>(0,n._)("button",{class:"btn btn-secondary","data-bs-dismiss":"modal"},"No",-1)));var ce={__name:"CandidateTestView",setup(e){const t=m(),{candidateSheet:a,currentQuestion:s,cursor:d,testCredentials:i}=(0,l.Jk)(t),{previousQuestion:r,nextQuestion:c,changeQuestion:u,updateSingleChoiceAnswerStatus:p,handleSubmit:v}=t,b=(0,o.iH)(0),_=e=>{const t=e.target.id;p(t)};return(0,n.bv)((()=>{const e=document.querySelector("#app");if(e.requestFullscreen(),e.addEventListener("fullscreenschange",(t=>{const a=t.target;alert(a.id),e.requestFullscreen()})),b.value=60*i.value.duration,"client"==i.value.time_protocol){const e=setInterval((()=>{0!=b.value?b.value--:clearInterval(e,1e3)}),1e3)}})),(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",R,[(0,n._)("div",T,[(0,n._)("div",L,(0,j.zw)(b.value)+" sec"+(0,j.zw)(b.value>1?"s":""),1),(0,n._)("div",E,(0,j.zw)((0,o.SU)(i).test_name)+" "+(0,j.zw)((0,o.SU)(i).duration),1),M]),(0,n._)("div",I,[(0,n._)("div",$,(0,j.zw)((0,o.SU)(s).question.data),1),(0,n._)("div",z,["single_choice"==(0,o.SU)(s).question.type?((0,n.wg)(),(0,n.iD)("div",J,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(s).answers,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.id,class:(0,j.C_)(["answer form-control d-flex justify-content-between mt-2 text-bold",e.selected?"answer-selected":""]),id:"answer_".concat(e.id),onClick:_},[(0,n._)("span",null,(0,j.zw)(e.data),1)],10,V)))),128))])):((0,n.wg)(),(0,n.iD)("div",N," multiple choice "))])]),(0,n._)("div",P,[(0,n._)("div",O,[(0,n._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(r)&&(0,o.SU)(r)(...e))},[Q,(0,n.Uk)(" "),X])]),(0,n._)("div",Y,(0,j.zw)((0,o.SU)(d)+1)+"/"+(0,j.zw)((0,o.SU)(a).length),1),(0,n._)("div",W,[(0,n._)("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>(0,o.SU)(c)&&(0,o.SU)(c)(...e))},[K,(0,n.Uk)(" "),G])])])]),(0,n._)("div",F,[(0,n._)("div",Z,[(0,n._)("div",B,[ee,(0,n._)("div",te,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:"qi".concat(t),class:(0,j.C_)(["question_indicator rounded-5 p-3 m-1 d-inline-block",1==e.question.answered?"bg-success text-light":"bg-light"]),onClick:e=>(0,o.SU)(u)(t),style:{cursor:"pointer"},"data-bs-dismiss":"modal"},(0,j.zw)(t+1),11,ae)))),128))]),se])])]),(0,n._)("div",ne,[(0,n._)("div",oe,[(0,n._)("div",le,[de,(0,n._)("div",ie,[re,(0,n._)("button",{class:"btn btn-success","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=(...e)=>(0,o.SU)(v)&&(0,o.SU)(v)(...e))},"Yes")])])])])],64))}};const ue=(0,c.Z)(ce,[["__scopeId","data-v-6334bedb"]]);var pe=ue,ve=a.p+"img/lab2.5fbf52f8.jpg";const be=e=>((0,n.dD)("data-v-1f4872fc"),e=e(),(0,n.Cn)(),e),me={class:"container-fluid"},_e={class:"row align-items-center",style:{height:"100vh"}},ge=be((()=>(0,n._)("div",{class:"container p-3 col-lg-6 col-md-6 d-lg-block d-md-block d-none bg-cebety-light text-center height-100"},[(0,n._)("img",{src:ve,class:"img img-fluid rounded-4"})],-1))),he={class:"col-lg-6 col-md-6 col sm-12 col-xs-12 bg-cebety-dark text-center height-100"},ye={class:"container p-3"},we=be((()=>(0,n._)("h1",{class:"text-cebety-light"},"Enter your details",-1))),fe=["type","placeholder","id","required","onUpdate:modelValue"],Se={class:"form"};var Ue={__name:"CandidateFormView",setup(e){const t=m(),{candidatePersona:a,details:d}=(0,l.Jk)(t),{getPersonaData:i,getQuestionsAndAnswers:r}=t;return(0,n.bv)((()=>{i(),r()})),(e,t)=>{const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",me,[(0,n._)("div",_e,[ge,(0,n._)("div",he,[(0,n._)("div",ye,[we,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("input",{key:e.id,type:e.persona_field_type,placeholder:e.persona_data,id:e.id,required:e.is_required,class:"form-control m-2","onUpdate:modelValue":t=>(0,o.SU)(d)[e.persona_data]=t},null,8,fe)),[[s.YZ,(0,o.SU)(d)[e.persona_data]]]))),128))]),(0,n._)("div",Se,[(0,n.Wm)(l,{class:"btn btn-primary",to:"/test"},{default:(0,n.w5)((()=>[(0,n.Uk)("Continue")])),_:1})])])])])}}};const ke=(0,c.Z)(Ue,[["__scopeId","data-v-1f4872fc"]]);var Ae=ke;const qe=e=>((0,n.dD)("data-v-d01c0476"),e=e(),(0,n.Cn)(),e),He={class:"container-fluid"},xe=qe((()=>(0,n._)("div",{class:"container"},[(0,n._)("h1",null,[(0,n._)("i",{class:"fas fa-smile-o"})])],-1))),Ce=qe((()=>(0,n._)("div",{class:"container"},[(0,n._)("h1",null,"Thanks for your time")],-1))),je=[xe,Ce];var De={__name:"EndTestView",setup(e){return(0,n.bv)((()=>{})),(e,t)=>((0,n.wg)(),(0,n.iD)("div",He,je))}};const Re=(0,c.Z)(De,[["__scopeId","data-v-d01c0476"]]);var Te=Re,Le=a.p+"img/Dairy.cc42f16f.svg";const Ee={src:Le,alt:"",class:"img w-100"};function Me(e,t){return(0,n.wg)(),(0,n.iD)("img",Ee)}const Ie={},$e=(0,c.Z)(Ie,[["render",Me]]);var ze=$e;const Je={class:"container-fluid bg-primary"},Ve={class:"row"},Ne={class:"col-lg-6 col-md-6 d-lg-flex bg-light justify-content-center align-items-center d-md-block d-none bg-cebety-light text-center height-100"},Pe={class:"col-lg-6 col-md-6 col sm-12 col-xs-12 height-100"},Oe={class:"container p-3"},Qe=(0,n._)("h1",{class:"text-light"},"Welcome admin",-1),Xe=(0,n._)("br",null,null,-1),Ye=(0,n._)("br",null,null,-1),We={class:"form"},Ke=(0,n._)("label",{for:"#phonenumber",class:"form-label text-light"},"Phone number",-1),Ge=(0,n._)("br",null,null,-1),Fe=(0,n._)("label",{for:"#password",class:"form-label text-light"},"Password",-1),Ze=(0,n._)("br",null,null,-1),Be={class:"mt-4"};var et={__name:"AdminIndex",setup(e){const t=bu(),{phoneNumber:a,password:d}=(0,l.Jk)(t),{login:i}=t;return(e,t)=>((0,n.wg)(),(0,n.iD)("div",Je,[(0,n._)("div",Ve,[(0,n._)("div",Ne,[(0,n.Wm)((0,o.SU)(ze))]),(0,n._)("div",Pe,[(0,n._)("div",Oe,[(0,n.Wm)((0,o.SU)(ze),{class:"d-lg-none d-md-none d-block"}),Qe,Xe,Ye,(0,n._)("div",We,[Ke,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.dq)(a)?a.value=e:null)},null,512),[[s.nr,(0,o.SU)(a)]]),Ge,Fe,(0,n.wy)((0,n._)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>(0,o.dq)(d)?d.value=e:null)},null,512),[[s.nr,(0,o.SU)(d)]]),Ze,(0,n._)("div",Be,[(0,n._)("button",{onClick:t[2]||(t[2]=(...e)=>(0,o.SU)(i)&&(0,o.SU)(i)(...e)),class:"btn btn-light"},"Login")])])])])])]))}};const tt=et;var at=tt;const st=e=>((0,n.dD)("data-v-ac58a61a"),e=e(),(0,n.Cn)(),e),nt={class:"menu bg-light"},ot={class:"icon"},lt={class:"route-name"},dt=st((()=>(0,n._)("span",{class:"indicator"}," . ",-1)));var it={__name:"MenuContainer",setup(e){const t=d(),{menuState:a,menuRoutes:s}=(0,l.Jk)(t),{toggleMenu:i}=t,r=bu(),{role:c}=(0,l.Jk)(r),u=(0,v.tv)(),p=u.currentRoute.value,b=e=>{const t=e.target;t.classList.contains("wrapper")>0&&i()};return(e,t)=>{const l=(0,n.up)("router-link"),d=(0,n.Q2)("ripple");return(0,o.SU)(a)?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"wrapper position-fixed top-0 left-0 right-0 bottom-0",onClick:b},[(0,n._)("div",nt,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(s),((e,t)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("li",{key:t,class:(0,j.C_)([e.name==(0,o.SU)(p).name?"active":"",e.meta.isGlobalAdminRoute&&"global_admin"!=(0,o.SU)(c)?"d-none":"",e.meta.isGlobalAdminRoute||"global_admin"!=(0,o.SU)(c)?"":"d-none"]),"data-aos":"slide-in"},[(0,n.Wm)(l,{to:e.path,class:"d-flex align-items-center justify-content-between"},{default:(0,n.w5)((()=>[(0,n._)("span",ot,[(0,n._)("i",{class:(0,j.C_)(e.icon)},null,2)]),(0,n._)("span",lt,(0,j.zw)(e.name),1),dt])),_:2},1032,["to"])],2)),[[d,"#0d6efd10"]]))),128))])])])):(0,n.kq)("",!0)}}};const rt=(0,c.Z)(it,[["__scopeId","data-v-ac58a61a"]]);var ct=rt;const ut={class:"m-2 text-light"};function pt(e,t,a,s,o,l){return(0,n.wg)(),(0,n.iD)("h3",ut,(0,j.zw)(o.viewName),1)}var vt={data(){const e=this.$router.currentRoute._value.name;return{viewName:e}}};const bt=(0,c.Z)(vt,[["render",pt]]);var mt=bt;const _t=e=>((0,n.dD)("data-v-f06159b8"),e=e(),(0,n.Cn)(),e),gt=_t((()=>(0,n._)("i",{class:"fa fa-bars fa-2x"},null,-1))),ht=[gt],yt=_t((()=>(0,n._)("i",{class:"fa fa-arrow-left fa-2x"},null,-1))),wt=[yt];var ft={__name:"AdminHeaderButton",setup(e){const t=d(),{menuRoutes:a}=(0,l.Jk)(t),{toggleMenu:s}=t,i=(0,v.tv)(),r=i.currentRoute.value,c=(0,n.Fl)((()=>{let e=!1;const t=(0,o.SU)(a);for(var s=0;s<t.length;s++)if(t[s].name==r.name){e=!0;break}return e}));return(e,t)=>{const a=(0,n.Q2)("ripple");return(0,o.SU)(c)?(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{key:0,class:"p-1 text-light",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(s)&&(0,o.SU)(s)(...e))},ht)),[[a,"rgba(255,255,255,.2)"]]):((0,n.wg)(),(0,n.iD)("div",{key:1,class:"p-1 text-light",onClick:t[1]||(t[1]=e=>(0,o.SU)(i).back())},wt))}}};const St=(0,c.Z)(ft,[["__scopeId","data-v-f06159b8"]]);var Ut=St;const kt=e=>((0,n.dD)("data-v-70bbb7a6"),e=e(),(0,n.Cn)(),e),At={class:"text-center bg-primary d-flex justify-content-between align-items-center position-fixed top-0 z-index-1"},qt=kt((()=>(0,n._)("div",null,null,-1)));var Ht={__name:"AdminHeader",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)("header",At,[(0,n.Wm)((0,o.SU)(Ut)),(0,n.Wm)((0,o.SU)(mt)),qt]))}};const xt=(0,c.Z)(Ht,[["__scopeId","data-v-70bbb7a6"]]);var Ct=xt;const jt=(0,l.Q_)("dashboard",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a}=e,s=bu(),{token:i,institutionId:r}=(0,l.Jk)(s),c=(0,o.iH)(0),u=(0,o.iH)([]),p=()=>{a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{const t=e.response;try{const e=JSON.parse(t),{body:s}=e;c.value=s[0].total,a()}catch(s){console.log(s)}})),e.open("GET",`${t.value}/api/candidate/total/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},v=()=>{a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{const t=e.response;try{const e=JSON.parse(t),{body:s}=e;u.value=s,a()}catch(s){console.log(s)}})),e.open("GET",`${t.value}/api/test/institution/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},b=(0,n.Fl)((()=>{const e=u.value.filter((e=>"active"==e.status));return e}));return{numberOfStudentsRegisteredSoFar:c,tests:u,activeTests:b,getNumberOfStudentsRegisteredSoFar:p,getTests:v}})),Dt={class:"container pt-5 mt-5"},Rt={class:"row"},Tt={class:"col-lg-6 col-md-6 col-sm-12 p-2"},Lt={class:"card"},Et=(0,n._)("div",{class:"card-header"},[(0,n._)("h5",{class:"card-title"},[(0,n._)("i",{class:"fas fa-users"}),(0,n.Uk)(" Number of Students Registered So Far")])],-1),Mt={class:"card-body"},It={class:"card-text"},$t={class:"card-footer"},zt={class:"text-muted"},Jt=(0,n._)("i",{class:"far fa-clock"},null,-1),Vt={class:"col-lg-6 col-md-6 col-sm-12 p-2"},Nt={class:"card"},Pt=(0,n._)("div",{class:"card-header"},[(0,n._)("h5",{class:"card-title"},[(0,n._)("i",{class:"fas fa-file-alt"}),(0,n.Uk)(" Number of Tests")])],-1),Ot={class:"card-body"},Qt={class:"card-text"},Xt={class:"card-footer"},Yt={class:"text-muted"},Wt=(0,n._)("i",{class:"far fa-calendar-alt"},null,-1),Kt={class:"col p-2"},Gt={class:"card"},Ft=(0,n._)("div",{class:"card-header"},[(0,n._)("h5",{class:"card-title"},[(0,n._)("i",{class:"fas fa-tasks"}),(0,n.Uk)(" Active Tests")])],-1),Zt={class:"card-body"},Bt={class:"list-group list-group-flush"},ea={class:"card-footer"},ta={class:"text-muted"},aa=(0,n._)("i",{class:"far fa-calendar-alt"},null,-1);var sa={__name:"DashboardView",setup(e){const t=bu(),{role:a}=(0,l.Jk)(t),s=jt(),{tests:d,numberOfStudentsRegisteredSoFar:i,activeTests:r}=(0,l.Jk)(s),{getNumberOfStudentsRegisteredSoFar:c,getTests:u}=s;return(0,n.bv)((()=>{if("global_admin"==a){const e=(0,v.tv)();e.replace("/admin/setup")}else c(),u()})),(e,t)=>{const a=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(Ct)),(0,n.Wm)((0,o.SU)(ct)),(0,n._)("div",Dt,[(0,n._)("div",Rt,[(0,n._)("div",Tt,[(0,n._)("div",Lt,[Et,(0,n._)("div",Mt,[(0,n._)("p",It,"There are currently "+(0,j.zw)((0,o.SU)(i))+" students that have taken tests for this institution",1)]),(0,n._)("div",$t,[(0,n._)("small",zt,[Jt,(0,n.Uk)(" Retrieved "+(0,j.zw)(new Date),1)])])])]),(0,n._)("div",Vt,[(0,n._)("div",Nt,[Pt,(0,n._)("div",Ot,[(0,n._)("p",Qt,"There are currently "+(0,j.zw)((0,o.SU)(d).length)+" tests",1)]),(0,n._)("div",Xt,[(0,n._)("small",Yt,[Wt,(0,n.Uk)(),(0,n.Wm)(a,{to:"/admin/test/"},{default:(0,n.w5)((()=>[(0,n.Uk)("See more")])),_:1})])])])]),(0,n._)("div",Kt,[(0,n._)("div",Gt,[Ft,(0,n._)("div",Zt,[(0,n._)("ul",Bt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(r),(e=>((0,n.wg)(),(0,n.iD)("li",{class:"list-group-item",key:e.id},(0,j.zw)(e.test_name),1)))),128))])]),(0,n._)("div",ea,[(0,n._)("small",ta,[aa,(0,n.Uk)(),(0,n.Wm)(a,{to:"/admin/test/"},{default:(0,n.w5)((()=>[(0,n.Uk)("See more")])),_:1})])])])])])])],64)}}};const na=sa;var oa=na,la=a.p+"img/yetti.b204ccae.png";const da=(0,l.Q_)("result",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=bu(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)(null),c=(0,o.iH)([]),u=(0,o.iH)([]),p=async()=>{if(""==i.value)return void s("An error just occured please try again");a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);1==e.status?u.value=e.data:s("An error just occured, couldn't get the personas, refreshing")}catch(n){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to get the personas, please reload the page"),console.log(e)})),e.open("GET",`${t.value}/api/persona_data/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},v=async()=>{a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{const t=e.response;try{const e=JSON.parse(t),{body:s}=e;a(),c.value=s}catch(s){console.log(s)}})),e.open("GET",`${t.value}/api/result/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()};return{currentTestId:r,results:c,getResults:v,getPersonas:p,personas:u}})),ia={class:"container pt-1 mt-5"},ra={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},ca=(0,n._)("img",{src:la,id:"no_test"},null,-1),ua=(0,n._)("br",null,null,-1),pa=(0,n._)("h5",null,"No results available",-1),va=[ca,ua,pa],ba={key:1,class:"container mt-3"},ma={class:"result-table-header row bg-primary rounded p-3 m-1 text-light shadow"},_a=(0,n._)("span",{class:"result-table-header-field text-uppercase col"},"Score",-1),ga={class:"result-table-body"},ha={class:"col"};var ya={__name:"ResultView",setup(e){const t=da(),{results:a,personas:s}=(0,l.Jk)(t),{getResults:d,getPersonas:i}=t,r=(0,n.Fl)((()=>{const e=[];for(var t=0;t<a.value.length;t+=s.value.length){const l={id:a.value[t].id,test_name:a.value[t].test_name,score:a.value[t].score};for(var n=0;n<s.value.length;n++)try{l[a.value[t+n].persona_data]=a.value[t+n].persona_value}catch(o){}e.push(l)}return e}));return(0,n.bv)((()=>{i(),d()})),(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(Ct)),(0,n.Wm)((0,o.SU)(ct)),(0,n._)("div",ia,[(0,o.SU)(a).length||(0,o.SU)(s).length?((0,n.wg)(),(0,n.iD)("div",ba,[(0,n._)("div",ma,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(s),(e=>((0,n.wg)(),(0,n.iD)("span",{class:"result-table-header-field text-uppercase col",key:e.id},(0,j.zw)(e.persona_data),1)))),128)),_a]),(0,n._)("div",ga,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(r),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"row m-1 shadow p-2",key:e.id},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(s),(t=>((0,n.wg)(),(0,n.iD)("span",{class:"result-table-body-row-col col",key:"persona_x_".concat(t.id)},(0,j.zw)(e[t.persona_data]),1)))),128)),(0,n._)("span",ha,(0,j.zw)(Math.round(e.score)),1)])))),128))])])):((0,n.wg)(),(0,n.iD)("div",ra,va))])],64))}};const wa=ya;var fa=wa;const Sa=(0,l.Q_)("tests",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=bu(),{token:i,institutionId:r}=(0,l.Jk)(n),c=(0,o.iH)([]),u=e=>{const n=JSON.stringify((0,o.SU)(e));a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const e=l.response;try{const t=JSON.parse(e);if(1==t.status){const{body:e}=t;c.value.push(e[0])}else s("An error just occured, please try again in a few seconds")}catch(t){s("An error just occured, please try again in a few seconds")}})),l.addEventListener("error",(e=>{s("An error just occured while trying to create the new test, please try again"),console.log(e)})),l.open("POST",`${t.value}/api/test`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send(n)},p=e=>{const n=(0,o.SU)(c).filter((t=>t.id==e)),l=JSON.stringify(n[0]);a();const d=new XMLHttpRequest;d.addEventListener("load",(()=>{a();const e=d.response;try{const t=JSON.parse(e);1==t.status?console.log():s("An error just occured, please try again in a few seconds")}catch(t){console.log(t),s("An error just occured, please try again in a few seconds")}})),d.addEventListener("error",(e=>{s("An error just occured while trying to edit the test, please try again"),console.log(e)})),d.open("PUT",`${t.value}/api/test`),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Authorization",`bearer ${i.value}`),d.send(l)},v=e=>{a();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{a();const t=n.response;try{const a=JSON.parse(t);if(1==a.status){const t=c.value.filter((t=>t.id!=e));c.value=t}else s("An error just occured, please try again in a few seconds")}catch(o){console.log(o),s("An error just occured, please try again in a few seconds")}})),n.addEventListener("error",(e=>{s("An error just occured while trying to delete the test, please try again"),console.log(e)})),n.open("DELETE",`${t.value}/api/test/${e}`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${i.value}`),n.send()},b=()=>{if(""==i.value)return void s("An error just occured please try again");a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);1==e.status?c.value=e.body:s("An error just occured, couldn't get the tests, refreshing")}catch(n){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to get the tests, please reload the page"),console.log(e)})),e.open("GET",`${t.value}/api/test/institution/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},m=e=>{const n=c.value.filter((t=>t.id==e))[0],o=JSON.stringify({id:e});if("active"==n.status){a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);if(1==e.status){for(var o=0;o<c.value.length;o++)if(c.value[o]==n){c.value[o].status="inactive";break}}else s("An error just occured, couldn't start the tests, refreshing")}catch(l){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to start the tests, please reload the page"),console.log(e)})),e.open("POST",`${t.value}/api/test/stop`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send(o)}else{a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);if(1==e.status){for(var o=0;o<c.value.length;o++)if(c.value[o]==n){c.value[o].status="active";break}}else s("An error just occured, couldn't stop the tests, refreshing")}catch(l){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to stop the tests, please reload the page"),console.log(e)})),e.open("POST",`${t.value}/api/test/start`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send(o)}};return{tests:c,createTest:u,editTest:p,getTests:b,deleteTest:v,handleStatusChange:m}})),Ua=(0,l.Q_)("questions",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=bu(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)(0),c=(0,o.iH)([]),u=async()=>{if(""==i.value)return void s("An error just occured please try again");a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);1==e.status?c.value=e.questions:s("An error just occured, couldn't get the questions, refreshing")}catch(n){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to get the questions, please reload the page"),console.log(e)})),e.open("GET",`${t.value}/api/question/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},p=async e=>{if(""==i.value)return void s("An error just occured please try again");const n=JSON.stringify({testId:r.value,data:(0,o.SU)(e).data,type:(0,o.SU)(e).type});a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const e=l.response;try{const t=JSON.parse(e);1==t.status?c.value.push(t.body[0]):s("An error just occured, couldn't create the question, refreshing")}catch(t){s("An error just occured, it seems to be internal, please contact the admin")}})),l.addEventListener("error",(e=>{s("An error just occured while trying to create the question, please reload the page"),console.log(e)})),l.open("POST",`${t.value}/api/question/`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send(n)},v=async e=>{if(""==i.value)return void s("An error just occured please try again");const n=c.value.filter((t=>t.id==e))[0],o=JSON.stringify(n);a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const e=l.response;try{const t=JSON.parse(e);1==t.status?console.log():s("An error just occured, couldn't edit the question, refreshing")}catch(t){s("An error just occured, it seems to be internal, please contact the admin")}})),l.addEventListener("error",(e=>{s("An error just occured while trying to edit the question, please reload the page"),console.log(e)})),l.open("PUT",`${t.value}/api/question/`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send(o)},b=e=>{if(""==i.value)return void s("An error just occured please try again");a();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{a();const t=n.response;try{const a=JSON.parse(t);if(1==a.status){const t=c.value.filter((t=>t.id!=e));c.value=t}else s("An error just occured, couldn't edit the question, refreshing")}catch(o){s("An error just occured, it seems to be internal, please contact the admin")}})),n.addEventListener("error",(e=>{s("An error just occured while trying to edit the question, please reload the page"),console.log(e)})),n.open("DELETE",`${t.value}/api/question/${e}`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${i.value}`),n.send()};return{testId:r,questions:c,getQuestions:u,createQuestion:p,editQuestion:v,deleteQuestion:b}})),ka=(0,l.Q_)("personas",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=bu(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)(0),c=(0,o.iH)([]),u=async()=>{if(""==i.value)return void s("An error just occured please try again");a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);1==e.status?c.value=e.data:s("An error just occured, couldn't get the personas, refreshing")}catch(n){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to get the personas, please reload the page"),console.log(e)})),e.open("GET",`${t.value}/api/persona_data/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},p=async e=>{if(""==i.value)return void s("An error just occured please try again");const n=JSON.stringify(e);a();const o=new XMLHttpRequest;o.addEventListener("load",(()=>{a();const e=o.response;try{const t=JSON.parse(e);1==t.status?c.value.push(t.body[0]):s("An error just occured, couldn't create the persona, refreshing")}catch(t){s("An error just occured, it seems to be internal, please contact the admin")}})),o.addEventListener("error",(e=>{s("An error just occured while trying to create the persona, please reload the page"),console.log(e)})),o.open("POST",`${t.value}/api/persona_data/`),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Authorization",`bearer ${i.value}`),o.send(n)},v=async e=>{if(""==i.value)return void s("An error just occured please try again");const n=c.value.filter((t=>t.id==e))[0],o=JSON.stringify(n);a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const e=l.response;try{const t=JSON.parse(e);1==t.status?console.log():s("An error just occured, couldn't edit the persona, refreshing")}catch(t){s("An error just occured, it seems to be internal, please contact the admin")}})),l.addEventListener("error",(e=>{s("An error just occured while trying to edit the persona, please reload the page"),console.log(e)})),l.open("PUT",`${t.value}/api/persona_data/`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send(o)},b=e=>{if(""==i.value)return void s("An error just occured please try again");a();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{a();const t=n.response;try{const a=JSON.parse(t);if(1==a.status){const t=c.value.filter((t=>t.id!=e));c.value=t}else s("An error just occured, couldn't delete the persona, refreshing")}catch(o){s("An error just occured, it seems to be internal, please contact the admin")}})),n.addEventListener("error",(e=>{s("An error just occured while trying to delete the persona, please reload the page"),console.log(e)})),n.open("DELETE",`${t.value}/api/persona_data/${e}`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${i.value}`),n.send()};return{testId:r,personas:c,getPersonas:u,createPersona:p,editPersona:v,deletePersona:b}})),Aa=e=>((0,n.dD)("data-v-3b366ecc"),e=e(),(0,n.Cn)(),e),qa={class:"container pt-5 mt-5"},Ha={class:"row"},xa={class:"col-2"},Ca={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addTestModal"},ja=Aa((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),Da=Aa((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),Ra=[Da],Ta={class:"col-10"},La={class:"input-group"},Ea=Aa((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),Ma={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},Ia=Aa((()=>(0,n._)("img",{src:la,id:"no_test"},null,-1))),$a=Aa((()=>(0,n._)("br",null,null,-1))),za=Aa((()=>(0,n._)("h5",null,"No tests available please add a new one",-1))),Ja=[Ia,$a,za],Va={key:1,class:"container mt-3"},Na=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-3b366ecc><div class="data-heading col text-bold text-light p-2" data-v-3b366ecc> Name </div><div class="data-heading col text-bold text-light p-2" data-v-3b366ecc> Duration </div><div class="data-heading col text-bold text-light p-2" data-v-3b366ecc> Status </div><div class="data-heading col text-bold text-light p-2" data-v-3b366ecc> Test code </div><div class="data-heading col" data-v-3b366ecc></div><div class="data-heading col" data-v-3b366ecc></div><div class="data-heading col" data-v-3b366ecc></div><div class="data-heading col" data-v-3b366ecc></div><div class="data-heading col" data-v-3b366ecc></div><div class="data-heading col" data-v-3b366ecc></div></div>',1),Pa=["id"],Oa={class:"col"},Qa={class:"col"},Xa={class:"col"},Ya={class:"col"},Wa={class:"col"},Ka=["data-bs-target"],Ga={class:"col"},Fa=["onClick"],Za={class:"col"},Ba=["id","onClick"],es={class:"col"},ts=["id","onClick"],as={class:"col"},ss=["id","data-bs-target"],ns={class:"col"},os=["id","data-bs-target"],ls={class:"modal fade",id:"addTestModal",tabindex:"-1","aria-labelledby":"addTestModalLabel","aria-hidden":"true"},ds={class:"modal-dialog"},is={class:"modal-content"},rs=Aa((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addTestModalLabel"},"Add Test"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),cs={class:"modal-body"},us={class:"p-1"},ps={class:"p-1"},vs={class:"p-1"},bs=Aa((()=>(0,n._)("option",{disabled:""},"Select test type",-1))),ms=Aa((()=>(0,n._)("option",{value:"manual"},"Manual",-1))),_s=Aa((()=>(0,n._)("option",{value:"scheduled"},"Scheduled",-1))),gs=[bs,ms,_s],hs={class:"p-1"},ys=Aa((()=>(0,n._)("option",{disabled:""},"Select time protocol",-1))),ws=Aa((()=>(0,n._)("option",{value:"server"},"Server",-1))),fs=Aa((()=>(0,n._)("option",{value:"client"},"Client",-1))),Ss=[ys,ws,fs],Us={class:"p-1"},ks={class:"p-1"},As=Aa((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),qs=["id"],Hs={class:"modal-dialog"},xs={class:"modal-content"},Cs=Aa((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editTestModalHeader"},"Edit Test"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),js={class:"modal-body"},Ds={class:"p-1"},Rs=["onUpdate:modelValue"],Ts={class:"p-1"},Ls=["onUpdate:modelValue"],Es={class:"p-1"},Ms=["onUpdate:modelValue"],Is=Aa((()=>(0,n._)("option",{disabled:""},"Select test type",-1))),$s=Aa((()=>(0,n._)("option",{value:"manual"},"Manual",-1))),zs=Aa((()=>(0,n._)("option",{value:"scheduled"},"Scheduled",-1))),Js=[Is,$s,zs],Vs={class:"p-1"},Ns=["onUpdate:modelValue"],Ps=Aa((()=>(0,n._)("option",{disabled:""},"Select time protocol",-1))),Os=Aa((()=>(0,n._)("option",{value:"server"},"Server",-1))),Qs=Aa((()=>(0,n._)("option",{value:"client"},"Client",-1))),Xs=[Ps,Os,Qs],Ys={class:"p-1"},Ws=["onUpdate:modelValue"],Ks={class:"p-1"},Gs=["onUpdate:modelValue"],Fs={class:"modal-footer"},Zs={class:"row"},Bs=Aa((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),en={class:"col"},tn=["onClick"],an=["id"],sn={class:"modal-dialog modal-dialog-centered"},nn={class:"modal-content"},on=Aa((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"deleteTestModalHeader"},"Delete Test"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ln={class:"modal-body text-center"},dn={class:"text-lowercase"},rn={class:"modal-footer"},cn={class:"row"},un=Aa((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),pn={class:"col"},vn=["onClick"],bn=["id"],mn={class:"modal-dialog modal-dialog-centered"},_n={class:"modal-content"},gn={class:"modal-header"},hn={class:"modal-title",id:"startTestModalHeader"},yn=Aa((()=>(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),wn={class:"modal-body text-center"},fn={class:"text-lowercase"},Sn={class:"modal-footer"},Un={class:"row"},kn=Aa((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),An={class:"col"},qn=["onClick"];var Hn={__name:"TestView",setup(e){const t=(0,v.tv)(),a=Sa(),{tests:d}=(0,l.Jk)(a),{getTests:i,createTest:r,editTest:c,deleteTest:u,handleStatusChange:p}=a,b=Ua(),{testId:m}=(0,l.Jk)(b),_=da(),{currentTestId:g}=(0,l.Jk)(_),h=(0,o.iH)(""),y=bu(),{institutionId:w}=(0,l.Jk)(y);(0,n.bv)((()=>{i()}));const f=(0,o.iH)({name:"",institutionId:(0,o.SU)(w),duration:"30",type:"manual",timeProtocol:"client",startTime:"",endTime:"",usePreRegisteredCandidates:"true",randomizeQuestions:"true",totalMark:100}),S=()=>{r(f)},U=e=>{m.value=e,t.push("/admin/questions")},k=ka(),A=e=>{k.testId=e,t.push("/admin/persona")},q=e=>{g.value=e,t.push("/admin/result")};return(e,t)=>{const a=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(Ct)),(0,n.Wm)((0,o.SU)(ct)),(0,n._)("div",qa,[(0,n._)("div",Ha,[(0,n._)("div",xa,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",Ca,[ja,(0,n.Uk)(" add ")])),[[a,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(i)&&(0,o.SU)(i)(...e))},Ra)),[[a,"#0d6efd10"]])]),(0,n._)("div",Ta,[(0,n._)("div",La,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>h.value=e),class:"form-control"},null,512),[[s.nr,h.value]]),Ea])])]),(0,o.SU)(d).length?((0,n.wg)(),(0,n.iD)("div",Va,[Na,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",Oa,(0,j.zw)(e.test_name),1),(0,n._)("div",Qa,(0,j.zw)(e.duration),1),(0,n._)("div",Xa,(0,j.zw)(e.status),1),(0,n._)("div",Ya,(0,j.zw)(e.test_name)+"/"+(0,j.zw)(e.id)+"/"+(0,j.zw)(e.institution_id),1),(0,n._)("div",Wa,[(0,n._)("button",{class:(0,j.C_)(["btn","active"!=e.status?"btn-info":"btn-danger"]),"data-bs-toggle":"modal","data-bs-target":"#startTestModal".concat(e.id)},(0,j.zw)("active"!=e.status?"start":"stop"),11,Ka)]),(0,n._)("div",Ga,[(0,n._)("button",{class:"btn btn-secondary",onClick:t=>U(e.id)},"Questions",8,Fa)]),(0,n._)("div",Za,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,onClick:t=>A(e.id)},"Persona",8,Ba)]),(0,n._)("div",es,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,onClick:t=>q(e.id)},"Results",8,ts)]),(0,n._)("div",as,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editTestModal".concat(e.id)},"Edit",8,ss)]),(0,n._)("div",ns,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deleteTestModal".concat(e.id)},"Delete",8,os)])],8,Pa)))),128))])):((0,n.wg)(),(0,n.iD)("div",Ma,Ja))]),(0,n._)("div",ls,[(0,n._)("div",ds,[(0,n._)("div",is,[rs,(0,n._)("div",cs,[(0,n._)("div",us,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>f.value.name=e),type:"text",class:"form-control",placeholder:"Name"},null,512),[[s.nr,f.value.name]])]),(0,n._)("div",ps,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>f.value.duration=e),type:"number",class:"form-control",min:"1",placeholder:"Duration"},null,512),[[s.nr,f.value.duration]])]),(0,n._)("div",vs,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>f.value.type=e),class:"form-select"},gs,512),[[s.bM,f.value.type]])]),(0,n._)("div",hs,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>f.value.timeProtocol=e),class:"form-select"},Ss,512),[[s.bM,f.value.timeProtocol]])]),(0,n._)("div",Us,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>f.value.totalMark=e),type:"number",class:"form-control",placeholder:"Total mark"},null,512),[[s.nr,f.value.totalMark]])]),(0,n._)("div",ks,[(0,n._)("label",null,[(0,n.Uk)("Randomize questions "),(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>f.value.randomizeQuestions=e)},null,512),[[s.e8,f.value.randomizeQuestions]])])])]),(0,n._)("div",{class:"modal-footer"},[(0,n._)("div",{class:"row"},[As,(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",onClick:S,"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editTestModal".concat(e.id),tabindex:"-1","aria-labelledby":"editTestModalLabel","aria-hidden":"true"},[(0,n._)("div",Hs,[(0,n._)("div",xs,[Cs,(0,n._)("div",js,[(0,n._)("div",Ds,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.test_name=t,type:"text",class:"form-control",placeholder:"Name"},null,8,Rs),[[s.nr,e.test_name]])]),(0,n._)("div",Ts,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.duration=t,type:"number",class:"form-control",min:"1",placeholder:"Duration"},null,8,Ls),[[s.nr,e.duration]])]),(0,n._)("div",Es,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t=>e.type=t,class:"form-select"},Js,8,Ms),[[s.bM,e.type]])]),(0,n._)("div",Vs,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t=>e.time_protocol=t,class:"form-select"},Xs,8,Ns),[[s.bM,e.time_protocol]])]),(0,n._)("div",Ys,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.total_mark=t,type:"number",class:"form-control",placeholder:"Total mark"},null,8,Ws),[[s.nr,e.total_mark]])]),(0,n._)("div",Ks,[(0,n._)("label",null,[(0,n.Uk)("Randomize questions "),(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t=>e.randomize_questions=t},null,8,Gs),[[s.e8,e.randomize_questions]])])])]),(0,n._)("div",Fs,[(0,n._)("div",Zs,[Bs,(0,n._)("div",en,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(c)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,tn)])])])])])],8,qs)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_delete".concat(e.id),id:"deleteTestModal".concat(e.id),tabindex:"-1","aria-labelledby":"deleteTestModalLabel","aria-hidden":"true"},[(0,n._)("div",sn,[(0,n._)("div",nn,[on,(0,n._)("div",ln,[(0,n.Uk)(" Delete this "),(0,n._)("span",dn,(0,j.zw)(e.test_name),1),(0,n.Uk)(" test? ")]),(0,n._)("div",rn,[(0,n._)("div",cn,[un,(0,n._)("div",pn,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(u)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,vn)])])])])])],8,an)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_start".concat(e.id),id:"startTestModal".concat(e.id),tabindex:"-1","aria-labelledby":"startTestModalLabel","aria-hidden":"true"},[(0,n._)("div",mn,[(0,n._)("div",_n,[(0,n._)("div",gn,[(0,n._)("h5",hn,(0,j.zw)("active"==e.status?"Stop":"Start")+" Test",1),yn]),(0,n._)("div",wn,[(0,n.Uk)((0,j.zw)("active"==e.status?"Stop":"Start")+" this ",1),(0,n._)("span",fn,(0,j.zw)(e.test_name),1),(0,n.Uk)(" test? ")]),(0,n._)("div",Sn,[(0,n._)("div",Un,[kn,(0,n._)("div",An,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(p)(e.id),"data-bs-dismiss":"modal",class:(0,j.C_)(["btn","active"==e.status?"btn-danger":"btn-info"])},"Yes",10,qn)])])])])])],8,bn)))),128))],64)}}};const xn=(0,c.Z)(Hn,[["__scopeId","data-v-3b366ecc"]]);var Cn=xn;const jn=(0,l.Q_)("setup",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=bu(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)([]),c=()=>new Promise(((e,n)=>{if(""==i.value)return void s("An error just occured please try again");a();const o=new XMLHttpRequest;o.addEventListener("load",(()=>{a();const t=o.response;try{const a=JSON.parse(t);1==a.status?(r.value=a.body,e(!0)):(s("An error just occured, couldn't get the institutions, refreshing"),n(!1))}catch(l){s("An error just occured, it seems to be internal, please contact the admin"),n(!1)}})),o.addEventListener("error",(e=>{s("An error just occured while trying to get the institutions, please reload the page"),console.log(e)})),o.open("GET",`${t.value}/api/institution/all`),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Authorization",`bearer ${i.value}`),o.send()})),u=e=>new Promise(((n,o)=>{const l=JSON.stringify(e.value);if(""==i.value)return void s("An error just occured please try again");a();const d=new XMLHttpRequest;d.addEventListener("load",(()=>{a();const e=d.response;try{const t=JSON.parse(e);1==t.status?(r.value.push(t.body[0]),n(!0)):(s("An error just occured, couldn't add the institution, refreshing"),o(!1))}catch(t){s("An error just occured, it seems to be internal, please contact the admin"),o(!1)}})),d.addEventListener("error",(e=>{s("An error just occured while trying to add the institution, please reload the page"),console.log(e)})),d.open("POST",`${t.value}/api/institution`),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Authorization",`bearer ${i.value}`),d.send(l)})),p=e=>new Promise(((n,o)=>{const l=r.value.filter((t=>t.id==e))[0],d=JSON.stringify(l);if(console.log({payload:l,body:d}),""==i.value)return void s("An error just occured please try again");a();const c=new XMLHttpRequest;c.addEventListener("load",(()=>{a();const e=c.response;try{const t=JSON.parse(e);"true"==t.status?n(!0):(s("An error just occured, couldn't edit the institution, refreshing"),o(e))}catch(t){s("An error just occured, it seems to be internal, please contact the admin"),o(t)}})),c.addEventListener("error",(e=>{s("An error just occured while trying to edit the institution, please reload the page"),console.log(e)})),c.open("PUT",`${t.value}/api/institution`),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Authorization",`bearer ${i.value}`),c.send(d)})),v=e=>new Promise(((n,o)=>{if(""==i.value)return void s("An error just occured please try again");a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const t=l.response;try{const a=JSON.parse(t);if(1==a.status){const t=r.value.filter((t=>t.id!=e));r.value=t,n(!0)}else s("An error just occured, couldn't delete the institution, refreshing"),o(t)}catch(d){s("An error just occured, it seems to be internal, please contact the admin"),o(d)}})),l.addEventListener("error",(e=>{s("An error just occured while trying to delete the institution, please reload the page"),console.log(e)})),l.open("DELETE",`${t.value}/api/institution/${e}`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send()}));return{institutions:r,getInstitutions:c,addInstitution:u,editInstitution:p,deleteInstitution:v}})),Dn=(0,l.Q_)("users",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=bu(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)(null),c=(0,o.iH)([]),u=()=>new Promise(((e,n)=>{if(""==i.value)return void s("An error just occured please try again");a();const o=new XMLHttpRequest;o.addEventListener("load",(()=>{a();const t=o.response;try{const a=JSON.parse(t);1==a.status?(c.value=a.body,e(a)):(s("An error just occured, couldn't get the users, refreshing"),n(t))}catch(l){s("An error just occured, it seems to be internal, please contact the admin"),n(t)}})),o.addEventListener("error",(e=>{s("An error just occured while trying to get the users, please reload the page"),console.log(e)})),o.open("GET",`${t.value}/api/user/${r.value}`),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Authorization",`bearer ${i.value}`),o.send()})),p=e=>new Promise(((n,o)=>{const l=JSON.stringify(e.value);if(console.log(l),""==i.value)return void s("An error just occured please try again");a();const d=new XMLHttpRequest;d.addEventListener("load",(()=>{a();const e=d.response;try{const t=JSON.parse(e);"true"==t.status?(c.value.push(t.body[0]),n(t)):(s("An error just occured, couldn't add the user, refreshing"),o(e))}catch(t){s("An error just occured, it seems to be internal, please contact the admin"),o(e)}})),d.addEventListener("error",(e=>{s("An error just occured while trying to add the user, please reload the page"),console.log(e)})),d.open("POST",`${t.value}/api/user`),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Authorization",`bearer ${i.value}`),d.send(l)})),v=e=>new Promise(((n,o)=>{const l=c.value.filter((t=>t.id==e))[0],d=JSON.stringify(l);if(console.log({payload:l,body:d}),""==i.value)return void s("An error just occured please try again");a();const r=new XMLHttpRequest;r.addEventListener("load",(()=>{a();const e=r.response;try{const t=JSON.parse(e);1==t.status?n(!0):(s("An error just occured, couldn't edit the user, refreshing"),o(e))}catch(t){s("An error just occured, it seems to be internal, please contact the admin"),o(t)}})),r.addEventListener("error",(e=>{s("An error just occured while trying to edit the user, please reload the page"),console.log(e)})),r.open("PUT",`${t.value}/api/user`),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization",`bearer ${i.value}`),r.send(d)})),b=e=>new Promise(((n,o)=>{if(""==i.value)return void s("An error just occured please try again");a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const t=l.response;try{const a=JSON.parse(t);if(1==a.status){const t=c.value.filter((t=>t.id!=e));c.value=t,n(!0)}else s("An error just occured, couldn't delete the user, refreshing"),o(t)}catch(d){s("An error just occured, it seems to be internal, please contact the admin"),o(d)}})),l.addEventListener("error",(e=>{s("An error just occured while trying to delete the user, please reload the page"),console.log(e)})),l.open("DELETE",`${t.value}/api/user/${e}`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send()}));return{users:c,getUsers:u,addUser:p,editUser:v,deleteUser:b,currentInstitutionId:r}})),Rn=e=>((0,n.dD)("data-v-48a97959"),e=e(),(0,n.Cn)(),e),Tn={class:"container pt-5 mt-5"},Ln={class:"row"},En={class:"col-2"},Mn={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addInstitutionModal"},In=Rn((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),$n=Rn((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),zn=[$n],Jn={class:"col-10"},Vn={class:"input-group"},Nn=Rn((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),Pn={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},On=Rn((()=>(0,n._)("img",{src:la,id:"no_test"},null,-1))),Qn=Rn((()=>(0,n._)("br",null,null,-1))),Xn=Rn((()=>(0,n._)("h5",null,"No institution available please add a new one",-1))),Yn=[On,Qn,Xn],Wn={key:1,class:"container mt-3"},Kn=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-48a97959><div class="data-heading col-3 text-bold text-light p-2" data-v-48a97959> Name </div><div class="data-heading col-3 text-bold text-light p-2" data-v-48a97959> Creation date </div><div class="data-heading col-2" data-v-48a97959></div><div class="data-heading col-2" data-v-48a97959></div><div class="data-heading col-2" data-v-48a97959></div></div>',1),Gn=["id"],Fn={class:"col-3"},Zn={class:"col-3"},Bn={class:"col-2"},eo=["id","onClick"],to={class:"col-2"},ao=["id","data-bs-target"],so={class:"col-2"},no=["id","data-bs-target"],oo={class:"modal fade",id:"addInstitutionModal",tabindex:"-1","aria-labelledby":"addInstitutionModalLabel","aria-hidden":"true"},lo={class:"modal-dialog"},io={class:"modal-content"},ro=Rn((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addInstitutionModalHeader"},"Add Institution"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),co={class:"modal-body"},uo={class:"p-1"},po=Rn((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),vo=["id"],bo={class:"modal-dialog"},mo={class:"modal-content"},_o=Rn((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editInstitutionModalHeader"},"Edit Institution"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),go={class:"modal-body"},ho={class:"p-1"},yo=["onUpdate:modelValue"],wo={class:"modal-footer"},fo={class:"row"},So=Rn((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Uo={class:"col"},ko=["onClick"],Ao=["id"],qo={class:"modal-dialog modal-dialog-centered"},Ho={class:"modal-content"},xo=Rn((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:""},"Delete Institution"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Co={class:"modal-body text-center"},jo={class:"text-lowercase"},Do={class:"modal-footer"},Ro={class:"row"},To=Rn((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Lo={class:"col"},Eo=["onClick"];var Mo={__name:"SetupView",setup(e){const t=jn(),{institutions:a}=(0,l.Jk)(t),{getInstitutions:d,addInstitution:i,editInstitution:r,deleteInstitution:c}=t,u=Dn(),{currentInstitutionId:p}=(0,l.Jk)(u),b=(0,v.tv)(),m=(0,o.iH)(""),_=(0,o.iH)({name:""});(0,n.bv)((()=>{d()}));const g=()=>{i(_)},h=e=>{p.value=e,b.push("/admin/users")};return(e,t)=>{const l=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(Ct)),(0,n.Wm)((0,o.SU)(ct)),(0,n._)("div",Tn,[(0,n._)("div",Ln,[(0,n._)("div",En,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",Mn,[In,(0,n.Uk)(" add ")])),[[l,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(d)&&(0,o.SU)(d)(...e))},zn)),[[l,"#0d6efd10"]])]),(0,n._)("div",Jn,[(0,n._)("div",Vn,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),class:"form-control"},null,512),[[s.nr,m.value]]),Nn])])]),(0,o.SU)(a).length?((0,n.wg)(),(0,n.iD)("div",Wn,[Kn,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",Fn,(0,j.zw)(e.institution_name),1),(0,n._)("div",Zn,(0,j.zw)(new Date(e.creation_date).toISOString().slice(0,19).replace("T"," ")),1),(0,n._)("div",Bn,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,onClick:t=>h(e.id)},"Show users",8,eo)]),(0,n._)("div",to,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editInstitution".concat(e.id)},"Edit",8,ao)]),(0,n._)("div",so,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deleteInstitution".concat(e.id)},"Delete",8,no)])],8,Gn)))),128))])):((0,n.wg)(),(0,n.iD)("div",Pn,Yn))]),(0,n._)("div",oo,[(0,n._)("div",lo,[(0,n._)("div",io,[ro,(0,n._)("div",co,[(0,n._)("div",uo,[(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>_.value.name=e),type:"text",class:"form-control",placeholder:"Name of institution"},null,512),[[s.nr,_.value.name]])])]),(0,n._)("div",{class:"modal-footer"},[(0,n._)("div",{class:"row"},[po,(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",onClick:g,"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editInstitution".concat(e.id),tabindex:"-1","aria-labelledby":"editInstitutionModal","aria-hidden":"true"},[(0,n._)("div",bo,[(0,n._)("div",mo,[_o,(0,n._)("div",go,[(0,n._)("div",ho,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.institution_name=t,type:"text",class:"form-control",placeholder:"Data"},null,8,yo),[[s.nr,e.institution_name]])])]),(0,n._)("div",wo,[(0,n._)("div",fo,[So,(0,n._)("div",Uo,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(r)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,ko)])])])])])],8,vo)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"deleteInstitution".concat(e.id),tabindex:"-1","aria-labelledby":"deleteInstitutionLabel","aria-hidden":"true"},[(0,n._)("div",qo,[(0,n._)("div",Ho,[xo,(0,n._)("div",Co,[(0,n._)("span",jo,(0,j.zw)(e.institution_name),1)]),(0,n._)("div",Do,[(0,n._)("div",Ro,[To,(0,n._)("div",Lo,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(c)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,Eo)])])])])])],8,Ao)))),128))],64)}}};const Io=(0,c.Z)(Mo,[["__scopeId","data-v-48a97959"]]);var $o=Io,zo={__name:"AdminView",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(Ct)),(0,n.Wm)((0,o.SU)(ct))],64))}};const Jo=zo;var Vo=Jo;const No=(0,l.Q_)("answers",(()=>{const e=d(),{backend:t}=(0,l.Jk)(e),{toggleProcessLoader:a,appAlert:s}=e,n=bu(),{token:i}=(0,l.Jk)(n),r=(0,o.iH)(0),c=(0,o.iH)([]),u=async()=>{if(""==i.value)return void s("An error just occured please try again");a();const e=new XMLHttpRequest;e.addEventListener("load",(()=>{a();const t=e.response;try{const e=JSON.parse(t);1==e.status?c.value=e.answers:s("An error just occured, couldn't get the answers, refreshing")}catch(n){s("An error just occured, it seems to be internal, please contact the admin")}})),e.addEventListener("error",(e=>{s("An error just occured while trying to get the answers, please reload the page"),console.log(e)})),e.open("GET",`${t.value}/api/answer/${r.value}`),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization",`bearer ${i.value}`),e.send()},p=async e=>{if(""==i.value)return void s("An error just occured please try again");const n=JSON.stringify({questionId:r.value,data:(0,o.SU)(e).data,type:(0,o.SU)(e).type});a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const e=l.response;try{const t=JSON.parse(e);1==t.status?c.value.push(t.body[0]):s("An error just occured, couldn't create the answer, refreshing")}catch(t){console.log(t),s("An error just occured, it seems to be internal, please contact the admin")}})),l.addEventListener("error",(e=>{s("An error just occured while trying to create the answer, please reload the page"),console.log(e)})),l.open("POST",`${t.value}/api/answer/`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send(n)},v=async e=>{if(""==i.value)return void s("An error just occured please try again");const n=c.value.filter((t=>t.id==e))[0],o=JSON.stringify(n);a();const l=new XMLHttpRequest;l.addEventListener("load",(()=>{a();const e=l.response;try{const t=JSON.parse(e);1==t.status?console.log():s("An error just occured, couldn't edit the answer, refreshing")}catch(t){s("An error just occured, it seems to be internal, please contact the admin")}})),l.addEventListener("error",(e=>{s("An error just occured while trying to edit the answer, please reload the page"),console.log(e)})),l.open("PUT",`${t.value}/api/answer/`),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",`bearer ${i.value}`),l.send(o)},b=e=>{if(""==i.value)return void s("An error just occured please try again");a();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{a();const t=n.response;try{const a=JSON.parse(t);if(1==a.status){const t=c.value.filter((t=>t.id!=e));c.value=t}else s("An error just occured, couldn't edit the answer, refreshing")}catch(o){s("An error just occured, it seems to be internal, please contact the admin")}})),n.addEventListener("error",(e=>{s("An error just occured while trying to edit the answer, please reload the page"),console.log(e)})),n.open("DELETE",`${t.value}/api/answer/${e}`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${i.value}`),n.send()},m=e=>{if(""==i.value)return void s("An error just occured please try again");a();const n=new XMLHttpRequest;n.addEventListener("load",(()=>{a();const t=n.response;try{const a=JSON.parse(t);if(1==a.status){const t=c.value.filter((t=>t.id==e))[0];for(var o=0;o<c.value.length;o++)c.value[o]==t?c.value[o].is_right_answer=1:c.value[o].is_right_answer=0}else s("An error just occured, couldn't set as right answer, refreshing")}catch(l){s("An error just occured, it seems to be internal, please contact the admin")}})),n.addEventListener("error",(e=>{s("An error just occured while trying to set as right answer, please reload the page"),console.log(e)})),n.open("POST",`${t.value}/api/answer/set_as_right_answer/${e}`),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`bearer ${i.value}`),n.send()};return{questionId:r,answers:c,getAnswers:u,createAnswer:p,editAnswer:v,deleteAnswer:b,setAsRightAnswer:m}})),Po=e=>((0,n.dD)("data-v-88f1827a"),e=e(),(0,n.Cn)(),e),Oo={class:"container pt-5 mt-5"},Qo={class:"text-center p-3"},Xo={class:"text-lowercase"},Yo={class:"row"},Wo={class:"col-3"},Ko={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addQuestionModal"},Go=Po((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),Fo=Po((()=>(0,n._)("i",{class:"fa fa-upload"},null,-1))),Zo=Po((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),Bo=[Zo],el={class:"col-8"},tl={class:"input-group"},al=Po((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),sl={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},nl=Po((()=>(0,n._)("img",{src:la,id:"no_test"},null,-1))),ol=Po((()=>(0,n._)("br",null,null,-1))),ll=Po((()=>(0,n._)("h5",null,"No questions available please add a new one",-1))),dl=[nl,ol,ll],il={key:1,class:"container mt-3"},rl=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-88f1827a><div class="data-heading col text-bold text-light p-2" data-v-88f1827a> Data </div><div class="data-heading col text-bold text-light p-2" data-v-88f1827a> Type </div><div class="data-heading col" data-v-88f1827a></div><div class="data-heading col" data-v-88f1827a></div></div>',1),cl=["id"],ul={class:"col"},pl={class:"col"},vl={class:"col"},bl=["onClick"],ml={class:"col"},_l=["id","data-bs-target"],gl={class:"col"},hl=["id","data-bs-target"],yl={class:"modal fade",id:"addQuestionModal",tabindex:"-1","aria-labelledby":"addQuestionModalLabel","aria-hidden":"true"},wl={class:"modal-dialog"},fl={class:"modal-content"},Sl=Po((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addQuestionModalHeader"},"Add Question"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ul={class:"modal-body"},kl={class:"p-1"},Al={class:"p-1"},ql=Po((()=>(0,n._)("option",{disabled:""},"Select test type",-1))),Hl=Po((()=>(0,n._)("option",{value:"single_choice"},"Single choice",-1))),xl=Po((()=>(0,n._)("option",{value:"multiple_choice"},"Multiple choice",-1))),Cl=Po((()=>(0,n._)("option",{value:"true_false"},"True false",-1))),jl=[ql,Hl,xl,Cl],Dl=Po((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Rl=["id"],Tl={class:"modal-dialog"},Ll={class:"modal-content"},El=Po((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editQuestionModalheader"},"Edit question"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ml={class:"modal-body"},Il={class:"p-1"},$l=["onUpdate:modelValue"],zl={class:"p-1"},Jl=["onUpdate:modelValue"],Vl=Po((()=>(0,n._)("option",{disabled:""},"Select test type",-1))),Nl=Po((()=>(0,n._)("option",{value:"single_choice"},"Single choice",-1))),Pl=Po((()=>(0,n._)("option",{value:"multiple_choice"},"Multiple choice",-1))),Ol=Po((()=>(0,n._)("option",{value:"true_false"},"True false",-1))),Ql=[Vl,Nl,Pl,Ol],Xl={class:"modal-footer"},Yl={class:"row"},Wl=Po((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Kl={class:"col"},Gl=["onClick"],Fl=["id"],Zl={class:"modal-dialog modal-dialog-centered"},Bl={class:"modal-content"},ed=Po((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:""},"Delete question"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),td={class:"modal-body text-center"},ad={class:"text-lowercase"},sd={class:"modal-footer"},nd={class:"row"},od=Po((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),ld={class:"col"},dd=["onClick"];var id={__name:"QuestionView",setup(e){const t=(0,v.tv)(),a=Ua(),{testId:d,questions:i}=(0,l.Jk)(a),{getQuestions:r,createQuestion:c,editQuestion:u,deleteQuestion:p}=a,b=Sa(),{tests:m}=(0,l.Jk)(b),_=m.value.filter((e=>e.id==d.value))[0].test_name,g=No(),{questionId:h}=(0,l.Jk)(g),y=(0,o.iH)("");(0,n.bv)((()=>{r()}));const w=(0,o.iH)({testId:(0,o.SU)(d),data:"",type:"single_choice"}),f=()=>{c(w)},S=e=>{h.value=e,t.push("/admin/answers")};return(e,t)=>{const a=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(Ct)),(0,n.Wm)((0,o.SU)(ct)),(0,n._)("div",Oo,[(0,n._)("h5",Qo,[(0,n.Uk)(" Showing questions for "),(0,n._)("span",Xo,(0,j.zw)((0,o.SU)(_)),1)]),(0,n._)("div",Yo,[(0,n._)("div",Wo,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",Ko,[Go,(0,n.Uk)(" add ")])),[[a,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...t)=>e.uploadExcel&&e.uploadExcel(...t))},[Fo,(0,n.Uk)(" Upload ")])),[[a,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[1]||(t[1]=(...e)=>(0,o.SU)(r)&&(0,o.SU)(r)(...e))},Bo)),[[a,"#0d6efd10"]])]),(0,n._)("div",el,[(0,n._)("div",tl,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>y.value=e),class:"form-control"},null,512),[[s.nr,y.value]]),al])])]),(0,o.SU)(i).length?((0,n.wg)(),(0,n.iD)("div",il,[rl,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(i),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",ul,(0,j.zw)(e.data),1),(0,n._)("div",pl,(0,j.zw)(e.type.replace("_"," ")),1),(0,n._)("div",vl,[(0,n._)("button",{class:"btn btn-secondary",onClick:t=>S(e.id)},"Answers",8,bl)]),(0,n._)("div",ml,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editQuestion".concat(e.id)},"Edit",8,_l)]),(0,n._)("div",gl,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deleteQuestion".concat(e.id)},"Delete",8,hl)])],8,cl)))),128))])):((0,n.wg)(),(0,n.iD)("div",sl,dl))]),(0,n._)("div",yl,[(0,n._)("div",wl,[(0,n._)("div",fl,[Sl,(0,n._)("div",Ul,[(0,n._)("div",kl,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>w.value.data=e),type:"text",class:"form-control",placeholder:"Data"},null,512),[[s.nr,w.value.data]])]),(0,n._)("div",Al,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>w.value.type=e),class:"form-select"},jl,512),[[s.bM,w.value.type]])])]),(0,n._)("div",{class:"modal-footer"},[(0,n._)("div",{class:"row"},[Dl,(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",onClick:f,"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(i),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editQuestion".concat(e.id),tabindex:"-1","aria-labelledby":"editQuestionLabel","aria-hidden":"true"},[(0,n._)("div",Tl,[(0,n._)("div",Ll,[El,(0,n._)("div",Ml,[(0,n._)("div",Il,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.data=t,type:"text",class:"form-control",placeholder:"Data"},null,8,$l),[[s.nr,e.data]])]),(0,n._)("div",zl,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t=>e.type=t,class:"form-select"},Ql,8,Jl),[[s.bM,e.type]])])]),(0,n._)("div",Xl,[(0,n._)("div",Yl,[Wl,(0,n._)("div",Kl,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(u)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,Gl)])])])])])],8,Rl)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(i),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_delete".concat(e.id),id:"deleteQuestion".concat(e.id),tabindex:"-1","aria-labelledby":"deleteQuestionModalLabel","aria-hidden":"true"},[(0,n._)("div",Zl,[(0,n._)("div",Bl,[ed,(0,n._)("div",td,[(0,n._)("span",ad,(0,j.zw)(e.data),1)]),(0,n._)("div",sd,[(0,n._)("div",nd,[od,(0,n._)("div",ld,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(p)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,dd)])])])])])],8,Fl)))),128))],64)}}};const rd=(0,c.Z)(id,[["__scopeId","data-v-88f1827a"]]);var cd=rd;const ud=e=>((0,n.dD)("data-v-160138f6"),e=e(),(0,n.Cn)(),e),pd={class:"container pt-5 mt-5"},vd={class:"text-center p-3"},bd={class:"text-lowercase"},md={class:"row"},_d={class:"col-2"},gd={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addAnswerModal"},hd=ud((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),yd=ud((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),wd=[yd],fd={class:"col-10"},Sd={class:"input-group"},Ud=ud((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),kd={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},Ad=ud((()=>(0,n._)("img",{src:la,id:"no_test"},null,-1))),qd=ud((()=>(0,n._)("br",null,null,-1))),Hd=ud((()=>(0,n._)("h5",null,"No answers available please add a new one",-1))),xd=[Ad,qd,Hd],Cd={key:1,class:"container mt-3"},jd=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-160138f6><div class="data-heading col text-bold text-light p-2" data-v-160138f6> Data </div><div class="data-heading col text-bold text-light p-2" data-v-160138f6> Is right answer </div><div class="data-heading col" data-v-160138f6></div><div class="data-heading col" data-v-160138f6></div><div class="data-heading col" data-v-160138f6></div></div>',1),Dd=["id"],Rd={class:"col"},Td={class:"col"},Ld={class:"col"},Ed=["onClick"],Md={class:"col"},Id=["id","data-bs-target"],$d={class:"col"},zd=["id","data-bs-target"],Jd={class:"modal fade",id:"addAnswerModal",tabindex:"-1","aria-labelledby":"addAnswerModalLabel","aria-hidden":"true"},Vd={class:"modal-dialog"},Nd={class:"modal-content"},Pd=ud((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addAnswerModalHeader"},"Add Answer"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Od={class:"modal-body"},Qd={class:"p-1"},Xd=ud((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Yd=["id"],Wd={class:"modal-dialog"},Kd={class:"modal-content"},Gd=ud((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editAnswerModalheader"},"Edit answer"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Fd={class:"modal-body"},Zd={class:"p-1"},Bd=["onUpdate:modelValue"],ei={class:"modal-footer"},ti={class:"row"},ai=ud((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),si={class:"col"},ni=["onClick"],oi=["id"],li={class:"modal-dialog modal-dialog-centered"},di={class:"modal-content"},ii=ud((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:""},"Delete answer"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ri={class:"modal-body text-center"},ci={class:"text-lowercase"},ui={class:"modal-footer"},pi={class:"row"},vi=ud((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),bi={class:"col"},mi=["onClick"];var _i={__name:"AnswerView",setup(e){const t=No(),{questionId:a,answers:d}=(0,l.Jk)(t),{getAnswers:i,createAnswer:r,editAnswer:c,deleteAnswer:u,setAsRightAnswer:p}=t,v=Ua(),{questions:b}=(0,l.Jk)(v),m=b.value.filter((e=>e.id==a.value))[0].data,_=(0,o.iH)("");(0,n.bv)((()=>{i()}));const g=(0,o.iH)({questionId:(0,o.SU)(a),data:""}),h=()=>{r(g)};return(e,t)=>{const a=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(Ct)),(0,n.Wm)((0,o.SU)(ct)),(0,n._)("div",pd,[(0,n._)("h5",vd,[(0,n.Uk)(" Showing answers for "),(0,n._)("span",bd,(0,j.zw)((0,o.SU)(m)),1)]),(0,n._)("div",md,[(0,n._)("div",_d,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",gd,[hd,(0,n.Uk)(" add ")])),[[a,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(i)&&(0,o.SU)(i)(...e))},wd)),[[a,"#0d6efd10"]])]),(0,n._)("div",fd,[(0,n._)("div",Sd,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>_.value=e),class:"form-control"},null,512),[[s.nr,_.value]]),Ud])])]),(0,o.SU)(d).length?((0,n.wg)(),(0,n.iD)("div",Cd,[jd,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",Rd,(0,j.zw)(e.data),1),(0,n._)("div",Td,(0,j.zw)(1==e.is_right_answer?"yes":"no"),1),(0,n._)("div",Ld,[(0,n._)("button",{class:"btn btn-secondary",onClick:t=>(0,o.SU)(p)(e.id)},(0,j.zw)(0==e.is_right_answer?"Set as right answer":"Right answer"),9,Ed)]),(0,n._)("div",Md,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editAnswer".concat(e.id)},"Edit",8,Id)]),(0,n._)("div",$d,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deleteAnswer".concat(e.id)},"Delete",8,zd)])],8,Dd)))),128))])):((0,n.wg)(),(0,n.iD)("div",kd,xd))]),(0,n._)("div",Jd,[(0,n._)("div",Vd,[(0,n._)("div",Nd,[Pd,(0,n._)("div",Od,[(0,n._)("div",Qd,[(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>g.value.data=e),type:"text",class:"form-control",placeholder:"Data"},null,512),[[s.nr,g.value.data]])])]),(0,n._)("div",{class:"modal-footer"},[(0,n._)("div",{class:"row"},[Xd,(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",onClick:h,"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editAnswer".concat(e.id),tabindex:"-1","aria-labelledby":"editAnswerLabel","aria-hidden":"true"},[(0,n._)("div",Wd,[(0,n._)("div",Kd,[Gd,(0,n._)("div",Fd,[(0,n._)("div",Zd,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.data=t,type:"text",class:"form-control",placeholder:"Data"},null,8,Bd),[[s.nr,e.data]])])]),(0,n._)("div",ei,[(0,n._)("div",ti,[ai,(0,n._)("div",si,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(c)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,ni)])])])])])],8,Yd)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_delete".concat(e.id),id:"deleteAnswer".concat(e.id),tabindex:"-1","aria-labelledby":"deleteAnswerModalLabel","aria-hidden":"true"},[(0,n._)("div",li,[(0,n._)("div",di,[ii,(0,n._)("div",ri,[(0,n._)("span",ci,(0,j.zw)(e.data),1)]),(0,n._)("div",ui,[(0,n._)("div",pi,[vi,(0,n._)("div",bi,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(u)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,mi)])])])])])],8,oi)))),128))],64)}}};const gi=(0,c.Z)(_i,[["__scopeId","data-v-160138f6"]]);var hi=gi;const yi=e=>((0,n.dD)("data-v-e2b0e5be"),e=e(),(0,n.Cn)(),e),wi={class:"container pt-5 mt-5"},fi={class:"text-center p-3"},Si={class:"text-lowercase"},Ui={class:"row"},ki={class:"col-2"},Ai={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addPersonaModal"},qi=yi((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),Hi=yi((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),xi=[Hi],Ci={class:"col-10"},ji={class:"input-group"},Di=yi((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),Ri={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},Ti=yi((()=>(0,n._)("img",{src:la,id:"no_test"},null,-1))),Li=yi((()=>(0,n._)("br",null,null,-1))),Ei=yi((()=>(0,n._)("h5",null,"No personas available please add a new one",-1))),Mi=[Ti,Li,Ei],Ii={key:1,class:"container mt-3"},$i=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-e2b0e5be><div class="data-heading col text-bold text-light p-2" data-v-e2b0e5be> Data </div><div class="data-heading col text-bold text-light p-2" data-v-e2b0e5be> Field type </div><div class="data-heading col text-bold text-light p-2" data-v-e2b0e5be> Is unique </div><div class="data-heading col text-bold text-light p-2" data-v-e2b0e5be> Is required </div><div class="data-heading col" data-v-e2b0e5be></div><div class="data-heading col" data-v-e2b0e5be></div></div>',1),zi=["id"],Ji={class:"col"},Vi={class:"col"},Ni={class:"col"},Pi={class:"col"},Oi={class:"col"},Qi=["id","data-bs-target"],Xi={class:"col"},Yi=["id","data-bs-target"],Wi={class:"modal fade",id:"addPersonaModal",tabindex:"-1","aria-labelledby":"addPersonaModalLabel","aria-hidden":"true"},Ki={class:"modal-dialog"},Gi={class:"modal-content"},Fi=yi((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addPersonaModalHeader"},"Add Persona"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Zi={class:"modal-body"},Bi={class:"p-1"},er={class:"p-1"},tr=yi((()=>(0,n._)("option",{disabled:""},"--Select field type--",-1))),ar=yi((()=>(0,n._)("option",{value:"text"},"Text",-1))),sr=yi((()=>(0,n._)("option",{value:"number"},"Number",-1))),nr=yi((()=>(0,n._)("option",{value:"email"},"Email",-1))),or=[tr,ar,sr,nr],lr={class:"p-1"},dr={class:"form-control d-flex justify-content-between"},ir={class:"p-1"},rr={class:"form-control d-flex justify-content-between"},cr=yi((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),ur=["id"],pr={class:"modal-dialog"},vr={class:"modal-content"},br=yi((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editPersonaModalheader"},"Edit persona"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),mr={class:"modal-body"},_r={class:"p-1"},gr=["onUpdate:modelValue"],hr={class:"p-1"},yr=["onUpdate:modelValue"],wr=yi((()=>(0,n._)("option",{disabled:""},"--Select field type--",-1))),fr=yi((()=>(0,n._)("option",{value:"text"},"Text",-1))),Sr=yi((()=>(0,n._)("option",{value:"number"},"Number",-1))),Ur=yi((()=>(0,n._)("option",{value:"email"},"Email",-1))),kr=[wr,fr,Sr,Ur],Ar={class:"p-1"},qr={class:"form-control d-flex justify-content-between"},Hr=["onUpdate:modelValue"],xr={class:"p-1"},Cr={class:"form-control d-flex justify-content-between"},jr=["onUpdate:modelValue"],Dr={class:"modal-footer"},Rr={class:"row"},Tr=yi((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Lr={class:"col"},Er=["onClick"],Mr=["id"],Ir={class:"modal-dialog modal-dialog-centered"},$r={class:"modal-content"},zr=yi((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:""},"Delete persona"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Jr={class:"modal-body text-center"},Vr={class:"text-lowercase"},Nr={class:"modal-footer"},Pr={class:"row"},Or=yi((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Qr={class:"col"},Xr=["onClick"];var Yr={__name:"PersonaView",setup(e){const t=ka(),{testId:a,personas:d}=(0,l.Jk)(t),{getPersonas:i,createPersona:r,editPersona:c,deletePersona:u}=t,p=Sa(),{tests:v}=(0,l.Jk)(p),b=v.value.filter((e=>e.id==a.value))[0].test_name,m=(0,o.iH)({testId:(0,o.SU)(a),personaData:"",personaFieldType:"text",isRequired:"false",isUnique:"false"}),_=()=>{r((0,o.SU)(m))};(0,n.bv)((()=>{i()}));const g=(0,o.iH)("");return(e,t)=>{const a=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(Ct)),(0,n.Wm)((0,o.SU)(ct)),(0,n._)("div",wi,[(0,n._)("h5",fi,[(0,n.Uk)(" Showing persona data for "),(0,n._)("span",Si,(0,j.zw)((0,o.SU)(b)),1)]),(0,n._)("div",Ui,[(0,n._)("div",ki,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",Ai,[qi,(0,n.Uk)(" add ")])),[[a,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(i)&&(0,o.SU)(i)(...e))},xi)),[[a,"#0d6efd10"]])]),(0,n._)("div",Ci,[(0,n._)("div",ji,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>g.value=e),class:"form-control"},null,512),[[s.nr,g.value]]),Di])])]),(0,o.SU)(d).length?((0,n.wg)(),(0,n.iD)("div",Ii,[$i,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",Ji,(0,j.zw)(e.persona_data),1),(0,n._)("div",Vi,(0,j.zw)(e.persona_field_type),1),(0,n._)("div",Ni,[(0,n._)("span",{class:(0,j.C_)(["false"==e.is_unique?"text-danger":"text-dark"])},(0,j.zw)(0==e.is_unique),3)]),(0,n._)("div",Pi,[(0,n._)("span",{class:(0,j.C_)(["false"==e.is_required?"text-danger":"text-dark"])},(0,j.zw)(e.is_required),3)]),(0,n._)("div",Oi,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editPersona".concat(e.id)},"Edit",8,Qi)]),(0,n._)("div",Xi,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deletePersona".concat(e.id)},"Delete",8,Yi)])],8,zi)))),128))])):((0,n.wg)(),(0,n.iD)("div",Ri,Mi))]),(0,n._)("div",Wi,[(0,n._)("div",Ki,[(0,n._)("div",Gi,[Fi,(0,n._)("div",Zi,[(0,n._)("div",Bi,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>m.value.personaData=e),type:"text",class:"form-control",placeholder:"Data"},null,512),[[s.nr,m.value.personaData]])]),(0,n._)("div",er,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>m.value.personaFieldType=e),type:"text",class:"form-select"},or,512),[[s.bM,m.value.personaFieldType]])]),(0,n._)("div",lr,[(0,n._)("label",dr,[(0,n.Uk)(" The data is unique "),(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>m.value.isUnique=e)},null,512),[[s.e8,m.value.isUnique]])])]),(0,n._)("div",ir,[(0,n._)("label",rr,[(0,n.Uk)(" The data is required "),(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>m.value.isRequired=e)},null,512),[[s.e8,m.value.isRequired]])])])]),(0,n._)("div",{class:"modal-footer"},[(0,n._)("div",{class:"row"},[cr,(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",onClick:_,"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editPersona".concat(e.id),tabindex:"-1","aria-labelledby":"editPersonaLabel","aria-hidden":"true"},[(0,n._)("div",pr,[(0,n._)("div",vr,[br,(0,n._)("div",mr,[(0,n._)("div",_r,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.persona_data=t,type:"text",class:"form-control",placeholder:"Data"},null,8,gr),[[s.nr,e.persona_data]])]),(0,n._)("div",hr,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t=>e.persona_field_type=t,type:"text",class:"form-select"},kr,8,yr),[[s.bM,e.persona_field_type]])]),(0,n._)("div",Ar,[(0,n._)("label",qr,[(0,n.Uk)(" The data is unique "),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.is_unique=t,type:"checkbox"},null,8,Hr),[[s.e8,e.is_unique]])])]),(0,n._)("div",xr,[(0,n._)("label",Cr,[(0,n.Uk)(" The data is required "),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.is_required=t,type:"checkbox"},null,8,jr),[[s.e8,e.is_required]])])])]),(0,n._)("div",Dr,[(0,n._)("div",Rr,[Tr,(0,n._)("div",Lr,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(c)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,Er)])])])])])],8,ur)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(d),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_delete".concat(e.id),id:"deletePersona".concat(e.id),tabindex:"-1","aria-labelledby":"deletePersonaModalLabel","aria-hidden":"true"},[(0,n._)("div",Ir,[(0,n._)("div",$r,[zr,(0,n._)("div",Jr,[(0,n._)("span",Vr,(0,j.zw)(e.persona_data),1)]),(0,n._)("div",Nr,[(0,n._)("div",Pr,[Or,(0,n._)("div",Qr,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(u)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,Xr)])])])])])],8,Mr)))),128))],64)}}};const Wr=(0,c.Z)(Yr,[["__scopeId","data-v-e2b0e5be"]]);var Kr=Wr;const Gr=e=>((0,n.dD)("data-v-6d9d8aa8"),e=e(),(0,n.Cn)(),e),Fr={class:"container pt-5 mt-5"},Zr={class:"text-center"},Br={class:"text-lowercase"},ec={class:"row"},tc={class:"col-2"},ac={class:"btn btn-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#addUserModal"},sc=Gr((()=>(0,n._)("i",{class:"fa fa-plus"},null,-1))),nc=Gr((()=>(0,n._)("i",{class:"fa fa-spinner"},null,-1))),oc=[nc],lc={class:"col-10"},dc={class:"input-group"},ic=Gr((()=>(0,n._)("button",{class:"btn btn-primary"},[(0,n._)("i",{class:"fa fa-search"}),(0,n.Uk)(" search ")],-1))),rc={key:0,class:"container-fluid p-2 d-flex align-items-center justify-content-center",style:{"flex-direction":"column"}},cc=Gr((()=>(0,n._)("img",{src:la,id:"no_test"},null,-1))),uc=Gr((()=>(0,n._)("br",null,null,-1))),pc=Gr((()=>(0,n._)("h5",null,"No user available please add a new one",-1))),vc=[cc,uc,pc],bc={key:1,class:"container mt-3"},mc=(0,n.uE)('<div class="data-header row bg-primary rounded" data-v-6d9d8aa8><div class="data-heading col-3 text-bold text-light p-2" data-v-6d9d8aa8> Email </div><div class="data-heading col-3 text-bold text-light p-2" data-v-6d9d8aa8> Phone number </div><div class="data-heading col-2" data-v-6d9d8aa8></div><div class="data-heading col-2" data-v-6d9d8aa8></div></div>',1),_c=["id"],gc={class:"col-3"},hc={class:"col-3"},yc={class:"col-2"},wc=["id","data-bs-target"],fc={class:"col-2"},Sc=["id","data-bs-target"],Uc={class:"modal fade",id:"addUserModal",tabindex:"-1","aria-labelledby":"addUserModalLabel","aria-hidden":"true"},kc={class:"modal-dialog"},Ac={class:"modal-content"},qc=Gr((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"addUserModalHeader"},"Add User"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Hc={class:"modal-body"},xc={class:"p-1"},Cc=Gr((()=>(0,n._)("br",null,null,-1))),jc=Gr((()=>(0,n._)("br",null,null,-1))),Dc=Gr((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Rc=["id"],Tc={class:"modal-dialog"},Lc={class:"modal-content"},Ec=Gr((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"editUserModalHeader"},"Edit User"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Mc={class:"modal-body"},Ic={class:"p-1"},$c=["onUpdate:modelValue"],zc=Gr((()=>(0,n._)("br",null,null,-1))),Jc=["onUpdate:modelValue"],Vc=Gr((()=>(0,n._)("br",null,null,-1))),Nc=["onUpdate:modelValue"],Pc={class:"modal-footer"},Oc={class:"row"},Qc=Gr((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),Xc={class:"col"},Yc=["onClick"],Wc=["id"],Kc={class:"modal-dialog modal-dialog-centered"},Gc={class:"modal-content"},Fc=Gr((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:""},"Delete User"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Zc={class:"modal-body text-center"},Bc={class:"text-lowercase"},eu=Gr((()=>(0,n._)("br",null,null,-1))),tu={class:"text-lowercase"},au={class:"modal-footer"},su={class:"row"},nu=Gr((()=>(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel")],-1))),ou={class:"col"},lu=["onClick"];var du={__name:"UserView",setup(e){const t=Dn(),{users:a,currentInstitutionId:d}=(0,l.Jk)(t),{getUsers:i,addUser:r,editUser:c,deleteUser:u}=t,p=jn(),{institutions:v}=(0,l.Jk)(p),b=v.value.filter((e=>e.id==d.value))[0],m=(0,o.iH)(""),_=(0,o.iH)({institutionId:d.value,email:"",phoneNumber:"",password:"",role:"admin"});(0,n.bv)((()=>{i()}));const g=()=>{r(_)};return(e,t)=>{const l=(0,n.Q2)("ripple");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(Ct)),(0,n.Wm)((0,o.SU)(ct)),(0,n._)("div",Fr,[(0,n._)("h4",Zr,[(0,n.Uk)("Showing users for "),(0,n._)("span",Br,(0,j.zw)((0,o.SU)(b).institution_name),1)]),(0,n._)("div",ec,[(0,n._)("div",tc,[(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",ac,[sc,(0,n.Uk)(" add ")])),[[l,"#0d6efd10"]]),(0,n.Uk)("   "),(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...e)=>(0,o.SU)(i)&&(0,o.SU)(i)(...e))},oc)),[[l,"#0d6efd10"]])]),(0,n._)("div",lc,[(0,n._)("div",dc,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),class:"form-control"},null,512),[[s.nr,m.value]]),ic])])]),(0,o.SU)(a).length?((0,n.wg)(),(0,n.iD)("div",bc,[(0,n.Uk)((0,j.zw)(JSON.stringify(e.user))+" ",1),mc,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"data-item row p-2 bg-light rounded mt-1",key:e.id,id:e.id},[(0,n._)("div",gc,(0,j.zw)(e.email),1),(0,n._)("div",hc,(0,j.zw)(e.phone_number),1),(0,n._)("div",yc,[(0,n._)("button",{class:"btn btn-secondary",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#editUser".concat(e.id)},"Edit",8,wc)]),(0,n._)("div",fc,[(0,n._)("button",{class:"btn btn-danger",id:e.id,"data-bs-toggle":"modal","data-bs-target":"#deleteUser".concat(e.id)},"Delete",8,Sc)])],8,_c)))),128))])):((0,n.wg)(),(0,n.iD)("div",rc,vc))]),(0,n._)("div",Uc,[(0,n._)("div",kc,[(0,n._)("div",Ac,[qc,(0,n._)("div",Hc,[(0,n._)("div",xc,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>_.value.email=e),type:"text",class:"form-control",placeholder:"Email"},null,512),[[s.nr,_.value.email]]),Cc,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>_.value.phoneNumber=e),type:"text",class:"form-control",placeholder:"Phone number"},null,512),[[s.nr,_.value.phoneNumber]]),jc,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>_.value.password=e),type:"text",class:"form-control",placeholder:"Password"},null,512),[[s.nr,_.value.password]])])]),(0,n._)("div",{class:"modal-footer"},[(0,n._)("div",{class:"row"},[Dc,(0,n._)("div",{class:"col"},[(0,n._)("button",{type:"button",onClick:g,"data-bs-dismiss":"modal",class:"btn btn-primary"},"Add")])])])])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"editUser".concat(e.id),tabindex:"-1","aria-labelledby":"editUserModal","aria-hidden":"true"},[(0,n._)("div",Tc,[(0,n._)("div",Lc,[Ec,(0,n._)("div",Mc,[(0,n._)("div",Ic,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.email=t,type:"text",class:"form-control",placeholder:"Data"},null,8,$c),[[s.nr,e.email]]),zc,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.phone_number=t,type:"text",class:"form-control",placeholder:"Phone number"},null,8,Jc),[[s.nr,e.phone_number]]),Vc,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.password=t,type:"text",class:"form-control",placeholder:"Password"},null,8,Nc),[[s.nr,e.password]])])]),(0,n._)("div",Pc,[(0,n._)("div",Oc,[Qc,(0,n._)("div",Xc,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(c)(e.id),"data-bs-dismiss":"modal",class:"btn btn-primary"},"Save",8,Yc)])])])])])],8,Rc)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,o.SU)(a),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"modal fade",key:"modal_".concat(e.id),id:"deleteUser".concat(e.id),tabindex:"-1","aria-labelledby":"deleteUserLabel","aria-hidden":"true"},[(0,n._)("div",Kc,[(0,n._)("div",Gc,[Fc,(0,n._)("div",Zc,[(0,n._)("span",Bc,(0,j.zw)(e.email),1),eu,(0,n._)("span",tu,(0,j.zw)(e.phone_number),1)]),(0,n._)("div",au,[(0,n._)("div",su,[nu,(0,n._)("div",ou,[(0,n._)("button",{type:"button",onClick:t=>(0,o.SU)(u)(e.id),"data-bs-dismiss":"modal",class:"btn btn-danger"},"Delete",8,lu)])])])])])],8,Wc)))),128))],64)}}};const iu=(0,c.Z)(du,[["__scopeId","data-v-6d9d8aa8"]]);var ru=iu,cu={CandidateIndex:C,CandidateTestView:pe,CandidateFormView:Ae,EndTestView:Te,AdminIndex:at,DashboardView:oa,ResultView:fa,TestView:Cn,SetupView:$o,AdminView:Vo,QuestionView:cd,AnswerView:hi,PersonaView:Kr,UserView:ru},uu=[{name:"Cebety",path:"/",component:cu.CandidateIndex,meta:{isAdminRoute:!1,requiresAuth:!1}},{name:"Candidate Test",path:"/test",component:cu.CandidateTestView,meta:{isAdminRoute:!1,requiresAuth:!0}},{name:"Candidate form",path:"/form",component:cu.CandidateFormView,meta:{isAdminRoute:!1,requiresAuth:!0}},{name:"End Test",path:"/end_test",component:cu.EndTestView,meta:{isAdminRoute:!1,requiresAuth:!0}},{name:"Login",path:"/admin",component:cu.AdminIndex,meta:{isAdminRoute:!0,requiresAuth:!1,showInMenu:!1}},{name:"Dashboard",path:"/admin/dashboard",component:cu.DashboardView,meta:{isAdminRoute:!0,requiresAuth:!0,showInMenu:!0,showInMenuName:"Dashboard",showInMenuIcon:"fa fa-dashboard"}},{name:"Result",path:"/admin/result",component:cu.ResultView,meta:{isAdminRoute:!0,requiresAuth:!0,showInMenu:!0,showInMenuName:"Dashboard",showInMenuIcon:"fa fa-excel"}},{name:"Setup",path:"/admin/setup",component:cu.SetupView,meta:{isAdminRoute:!0,isGlobalAdminRoute:!0,requiresAuth:!0,showInMenu:!0,showInMenuName:"Setup",showInMenuIcon:"fa fa-wrench"}},{name:"Users",path:"/admin/users",component:cu.UserView,meta:{isAdminRoute:!0,isGlobalAdminRoute:!0,requiresAuth:!0,showInMenu:!0,showInMenuName:"Setup",showInMenuIcon:"fa fa-users"}},{name:"Test",path:"/admin/test",component:cu.TestView,meta:{isAdminRoute:!0,requiresAuth:!0,showInMenu:!0,showInMenuName:"Test",showInMenuIcon:"fa fa-graduation-cap"}},{name:"Questions",path:"/admin/questions",component:cu.QuestionView,meta:{isAdminRoute:!0,requiresAuth:!0}},{name:"Answers",path:"/admin/answers",component:cu.AnswerView,meta:{isAdminRoute:!0,requiresAuth:!0}},{name:"Persona data",path:"/admin/persona",component:cu.PersonaView,meta:{isAdminRoute:!0,requiresAuth:!0}}];const pu=(0,v.p7)({history:(0,v.r5)("/"),routes:uu});var vu=pu;const bu=(0,l.Q_)("admin",(()=>{const e=(0,o.Xl)(vu),t=d(),{backend:a}=(0,l.Jk)(t),{toggleProcessLoader:s,appAlert:n}=t,i=(0,o.iH)(""),r=(0,o.iH)(""),c=(0,o.iH)(""),u=(0,o.iH)(""),p=(0,o.iH)(""),v=(0,o.iH)(""),b=(0,o.iH)(""),m=()=>{const t=JSON.stringify({phoneNumber:c.value,password:u.value});s();const o=new XMLHttpRequest;o.addEventListener("load",(()=>{s();const t=o.response;try{const a=JSON.parse(t);1==a.status?(i.value=a.id,r.value=a.email,b.value=a.token,p.value=a.institutionId,v.value=a.role,"admin"==v.value?e.push("/admin/dashboard"):e.push("/admin/setup")):n("An error just occured, please try again in a few seconds")}catch(a){n("An error just occured, please try again in a few seconds")}})),o.open("POST",`${a.value}/api/auth/signin`),o.setRequestHeader("Content-Type","application/json"),o.send(t)};return{id:i,email:r,phoneNumber:c,password:u,institutionId:p,role:v,token:b,login:m}}));var mu={__name:"App",setup(e){const t=(0,v.tv)();return(0,n.m0)((()=>{const e=m(),a=bu(),s=e.token,n=a.token,o=t.currentRoute.value;o.meta.isAdminRoute&&o.requiresAuth&&""==n?t.push("/admin"):o.meta.requiresAuth&&""==s&&t.push("/")})),(e,t)=>{const a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,o.SU)(p)),(0,n.Wm)(a)],64)}}};const _u=mu;var gu=_u,hu=a(5431);(0,hu.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var yu=a(68),wu=a(5146),fu=a(6905),Su=a.n(fu);a(2166);const Uu=(0,l.WB)();Uu.use((0,wu.z)());const ku=(0,s.ri)(gu);ku.use(Uu),ku.use(vu),ku.directive("ripple",yu.Z),ku.mount("#app"),ku.mixin({mounted(){Su().init()}})}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,s,n,o){if(!s){var l=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],o=e[c][2];for(var d=!0,i=0;i<s.length;i++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(d=!1,o<l&&(l=o));if(d){e.splice(c--,1);var r=n();void 0!==r&&(t=r)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,l=s[0],d=s[1],i=s[2],r=0;if(l.some((function(t){return 0!==e[t]}))){for(n in d)a.o(d,n)&&(a.m[n]=d[n]);if(i)var c=i(a)}for(t&&t(s);r<l.length;r++)o=l[r],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},s=self["webpackChunkCebety"]=self["webpackChunkCebety"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(6153)}));s=a.O(s)})();
//# sourceMappingURL=app.b3dbfbdc.js.map